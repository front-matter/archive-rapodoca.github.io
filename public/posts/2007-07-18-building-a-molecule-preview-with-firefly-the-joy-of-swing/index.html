<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Building a Molecule Preview with Firefly - The Joy of Swing | My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Previous articles have discussed Firefly, the codename for a new 2D structure editor for the Web. Although it can be deployed as a self-contained applet on Web pages, Firefly is composed of modules that are readily re-used. By taking advantage of this design and Java&rsquo;s native UI toolkit Swing, new UI elements can be built with relatively little effort. This article outlines one such use - the creation of a file dialog that contains a molecule preview.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/2007-07-18-building-a-molecule-preview-with-firefly-the-joy-of-swing/">
    

    <meta property="og:url" content="http://localhost:1313/posts/2007-07-18-building-a-molecule-preview-with-firefly-the-joy-of-swing/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Building a Molecule Preview with Firefly - The Joy of Swing">
  <meta property="og:description" content="Previous articles have discussed Firefly, the codename for a new 2D structure editor for the Web. Although it can be deployed as a self-contained applet on Web pages, Firefly is composed of modules that are readily re-used. By taking advantage of this design and Java’s native UI toolkit Swing, new UI elements can be built with relatively little effort. This article outlines one such use - the creation of a file dialog that contains a molecule preview.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-07-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-07-18T00:00:00+00:00">

  <meta itemprop="name" content="Building a Molecule Preview with Firefly - The Joy of Swing">
  <meta itemprop="description" content="Previous articles have discussed Firefly, the codename for a new 2D structure editor for the Web. Although it can be deployed as a self-contained applet on Web pages, Firefly is composed of modules that are readily re-used. By taking advantage of this design and Java’s native UI toolkit Swing, new UI elements can be built with relatively little effort. This article outlines one such use - the creation of a file dialog that contains a molecule preview.">
  <meta itemprop="datePublished" content="2007-07-18T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-07-18T00:00:00+00:00">
  <meta itemprop="wordCount" content="333">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Building a Molecule Preview with Firefly - The Joy of Swing">
  <meta name="twitter:description" content="Previous articles have discussed Firefly, the codename for a new 2D structure editor for the Web. Although it can be deployed as a self-contained applet on Web pages, Firefly is composed of modules that are readily re-used. By taking advantage of this design and Java’s native UI toolkit Swing, new UI elements can be built with relatively little effort. This article outlines one such use - the creation of a file dialog that contains a molecule preview.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Building a Molecule Preview with Firefly - The Joy of Swing</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-07-18T00:00:00Z">July 18, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Previous articles have discussed <a href="http://depth-first.com/articles/tag/firefly">Firefly</a>, the codename for a new 2D structure editor for the Web. Although it can be deployed as a self-contained applet on Web pages, Firefly is composed of modules that are readily re-used. By taking advantage of this design and Java&rsquo;s native UI toolkit Swing, new UI elements can be built with relatively little effort. This article outlines one such use - the creation of a file dialog that contains a molecule preview.</p>
<p>Many image processing applications such as Photoshop or GIMP provide an image preview that appears in file browser dialogs. Wouldn&rsquo;t it be nice if applications that process molecular structure files came with a similar feature? The screenshot below shows a file chooser with an embedded molecule preview based of Firefly&rsquo;s Painter component:</p>
<p><img src="/images/posts/20070718/dialog1.png" alt="Dialog" title="Dialog"></p>
<p>When a new molfile is highlighted, a new preview is automatically generated:</p>
<p><img src="/images/posts/20070718/dialog2.png" alt="Dialog" title="Dialog"></p>
<p>The molecule preview is capable of all of the customizations available in Firefly including background, bond, and atom colors, borders, and atom label fonts. No matter how large or small the molecule, and regardless of its starting coordinates, it will always be exactly scaled to fit the available space and precisely centered.</p>
<p>This dialog was rapidly implemented using the accessory capability provided by Swing&rsquo;s <!-- raw HTML omitted -->JFileChooser<!-- raw HTML omitted -->:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>JFileChooser chooser <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> JFileChooser();
</span></span><span style="display:flex;"><span>PreviewAccessory accessory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PreviewAccessory(chooser);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>accessory.<span style="color:#a6e22e">setPreferredSize</span>(<span style="color:#66d9ef">new</span> Dimension(150, 150));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>chooser.<span style="color:#a6e22e">setAccessory</span>(accessory);
</span></span><span style="display:flex;"><span>chooser.<span style="color:#a6e22e">addPropertyChangeListener</span>(accessory);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...</span>
</span></span></code></pre></div><p>Defining a JComponent implmenting the <!-- raw HTML omitted -->PropertyChangeListener<!-- raw HTML omitted --> interface is all that&rsquo;s needed to get a working molecule preview:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PreviewAccessory</span> <span style="color:#66d9ef">extends</span> DefaultPainter <span style="color:#66d9ef">implements</span> PropertyChangeListener
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// implementation</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Swing has come a long way since the dark days of JDK 1.2. What started out as the dog-slow ugly duckling of user interface toolkits has developed into one of the best platforms for building desktop applications out there. Advanced tools such as the WYSIWYG interface builder <a href="http://www.netbeans.org/kb/articles/matisse.html">Matisse</a> and the polished components offered by <a href="http://www.jidesoft.com/">JIDE</a> make Swing an even more attractive option. The example described here is just one instance of how Swing&rsquo;s well-conceived design simplifies the job of building rich user interfaces.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  My New Hugo Site 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
