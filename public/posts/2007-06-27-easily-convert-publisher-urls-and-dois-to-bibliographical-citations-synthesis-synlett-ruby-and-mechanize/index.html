<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Easily Convert Publisher URLs and DOIs to Bibliographical Citations - Synthesis, Synlett, Ruby, and Mechanize | My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Just ten years ago, the thought of accessing all of the world&rsquo;s scientific literature online struck many as optimistic at best. Today, an increasing number of scientists use the Web as their only means of reading the literature.
This shift has brought with it a significant, but rarely discussed problem: converting a publisher URL or DOI to a bibliographical citation (title, authors, journal, page, volume, etc.). This is a problem because bookmarking and linking URLs are the way we reference Web documents, but the bibliographical citation is still how we reference paper documents. We may well see the day when the need for bibliographical citations disappears, but until that happens there&rsquo;s a need for user-friendly tools that manage the conversion.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/2007-06-27-easily-convert-publisher-urls-and-dois-to-bibliographical-citations-synthesis-synlett-ruby-and-mechanize/">
    

    <meta property="og:url" content="http://localhost:1313/posts/2007-06-27-easily-convert-publisher-urls-and-dois-to-bibliographical-citations-synthesis-synlett-ruby-and-mechanize/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Easily Convert Publisher URLs and DOIs to Bibliographical Citations - Synthesis, Synlett, Ruby, and Mechanize">
  <meta property="og:description" content="Just ten years ago, the thought of accessing all of the world’s scientific literature online struck many as optimistic at best. Today, an increasing number of scientists use the Web as their only means of reading the literature.
This shift has brought with it a significant, but rarely discussed problem: converting a publisher URL or DOI to a bibliographical citation (title, authors, journal, page, volume, etc.). This is a problem because bookmarking and linking URLs are the way we reference Web documents, but the bibliographical citation is still how we reference paper documents. We may well see the day when the need for bibliographical citations disappears, but until that happens there’s a need for user-friendly tools that manage the conversion.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-06-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-06-27T00:00:00+00:00">

  <meta itemprop="name" content="Easily Convert Publisher URLs and DOIs to Bibliographical Citations - Synthesis, Synlett, Ruby, and Mechanize">
  <meta itemprop="description" content="Just ten years ago, the thought of accessing all of the world’s scientific literature online struck many as optimistic at best. Today, an increasing number of scientists use the Web as their only means of reading the literature.
This shift has brought with it a significant, but rarely discussed problem: converting a publisher URL or DOI to a bibliographical citation (title, authors, journal, page, volume, etc.). This is a problem because bookmarking and linking URLs are the way we reference Web documents, but the bibliographical citation is still how we reference paper documents. We may well see the day when the need for bibliographical citations disappears, but until that happens there’s a need for user-friendly tools that manage the conversion.">
  <meta itemprop="datePublished" content="2007-06-27T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-06-27T00:00:00+00:00">
  <meta itemprop="wordCount" content="639">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Easily Convert Publisher URLs and DOIs to Bibliographical Citations - Synthesis, Synlett, Ruby, and Mechanize">
  <meta name="twitter:description" content="Just ten years ago, the thought of accessing all of the world’s scientific literature online struck many as optimistic at best. Today, an increasing number of scientists use the Web as their only means of reading the literature.
This shift has brought with it a significant, but rarely discussed problem: converting a publisher URL or DOI to a bibliographical citation (title, authors, journal, page, volume, etc.). This is a problem because bookmarking and linking URLs are the way we reference Web documents, but the bibliographical citation is still how we reference paper documents. We may well see the day when the need for bibliographical citations disappears, but until that happens there’s a need for user-friendly tools that manage the conversion.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Easily Convert Publisher URLs and DOIs to Bibliographical Citations - Synthesis, Synlett, Ruby, and Mechanize</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-06-27T00:00:00Z">June 27, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Just ten years ago, the thought of accessing all of the world&rsquo;s scientific literature online struck many as optimistic at best. Today, an increasing number of scientists use the Web as their <em>only</em> means of reading the literature.</p>
<p>This shift has brought with it a significant, but rarely discussed problem: converting a publisher URL or DOI to a bibliographical citation (title, authors, journal, page, volume, etc.). This is a problem because bookmarking and linking URLs are the way we reference Web documents, but the bibliographical citation is still how we reference paper documents. We may well see the day when the need for bibliographical citations disappears, but until that happens there&rsquo;s a need for user-friendly tools that manage the conversion.</p>
<p>This article discusses remarkably simple and flexible solution to this problem using <a href="http://www.ruby-lang.org/en/">Ruby</a> and the outstanding <a href="http://mechanize.rubyforge.org">Mechanize</a> library. As test subjects, I&rsquo;ll use two of my favorite journals: <a href="http://www.thieme-chemistry.com/thieme-chemistry/journals/info/synthesis/index.shtml">Synthesis</a> and <a href="http://www.thieme-chemistry.com/thieme-chemistry/journals/info/synlett/index.shtml">Synlett</a>.</p>
<h1 id="what-is-mechanize">What is Mechanize?</h1>
<p>From the <a href="http://mechanize.rubyforge.org/mechanize/">Mechanize documentation</a>:</p>
<blockquote>
<p>The Mechanize library is used for automating interaction with websites. Mechanize automatically stores and sends cookies, follows redirects, can follow links, and submit forms. Form fields can be populated and submitted. Mechanize also keeps track of the sites that you have visited as a history.</p>
</blockquote>
<p>Think of Mechanize as a programmable Web browser controlled by Ruby. This powerful idea offers possibilities that go far beyond the relatively simple example I&rsquo;ll describe here.</p>
<h1 id="a-simple-library">A Simple Library</h1>
<p>Our library consists of the following code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rubygems&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;mechanize&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">module</span> Thieme
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_ris</span> url
</span></span><span style="display:flex;"><span>    agent <span style="color:#f92672">=</span>  <span style="color:#66d9ef">WWW</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Mechanize</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>    page <span style="color:#f92672">=</span> agent<span style="color:#f92672">.</span>get url
</span></span><span style="display:flex;"><span>    ris_link <span style="color:#f92672">=</span> page<span style="color:#f92672">.</span>links<span style="color:#f92672">.</span>text <span style="color:#e6db74">/[Bb]iblio/</span>
</span></span><span style="display:flex;"><span>    ris_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://&#34;</span> <span style="color:#f92672">+</span> page<span style="color:#f92672">.</span>uri<span style="color:#f92672">.</span>host <span style="color:#f92672">+</span> ris_link<span style="color:#f92672">.</span>href
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    agent<span style="color:#f92672">.</span>get_file ris_url
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>After saving this code in a file called <!-- raw HTML omitted -->thieme.rb<!-- raw HTML omitted -->, we can test it on <!-- raw HTML omitted -->this <!-- raw HTML omitted -->Synthesis<!-- raw HTML omitted --> article<!-- raw HTML omitted --> with interactive ruby (irb):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>irb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;thieme&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; include Thieme
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Object
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; ris<span style="color:#f92672">=</span>get_ris <span style="color:#e6db74">&#39;http://www.thieme-connect.com/ejournals/abstract/synthesis/doi/10.1055/s-2007-966071&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;\nTY  - JOUR\nID  - 101055S2007966071\nAU  - Gil,Mar\355a Victoria\nAU  - Ar\351valo,Mar\355a Jos\351\nAU  - L\363pez,\323scar\nT1  - Click Chemistry - What?s in a Name? Triazole Synthesis and Beyond\nJO  - Synthesis\nPY  - 2007///\nIS  - 11\nSP  - 1589\nEP  - 1620\nER  - \n\n&#34;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:004:0&gt; ris.match /T1  - <span style="color:#f92672">(</span>.*<span style="color:#f92672">)</span>/
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&lt;MatchData:0xb77c9784&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:005:0&gt; title <span style="color:#f92672">=</span> $1
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;Click Chemistry - What?s in a Name? Triazole Synthesis and Beyond&#34;</span>
</span></span></code></pre></div><p>Let&rsquo;s say that instead of a deep link to an article in the Thieme site we have a DOI. Can we still get the bibliographical citation?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:006:0&gt; ris<span style="color:#f92672">=</span>get_ris <span style="color:#e6db74">&#39;http://dx.doi.org/10.1055/s-2007-966071&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;\nTY  - JOUR\nID  - 101055S2007966071\nAU  - Gil,Mar\355a Victoria\nAU  - Ar\351valo,Mar\355a Jos\351\nAU  - L\363pez,\323scar\nT1  - Click Chemistry - What?s in a Name? Triazole Synthesis and Beyond\nJO  - Synthesis\nPY  - 2007///\nIS  - 11\nSP  - 1589\nEP  - 1620\nER  - \n\n&#34;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:007:0&gt; ris.match /T1  - <span style="color:#f92672">(</span>.*<span style="color:#f92672">)</span>/
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&lt;MatchData:0xb77c6264&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:008:0&gt; title <span style="color:#f92672">=</span> $1
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;Click Chemistry - What?s in a Name? Triazole Synthesis and Beyond&#34;</span>
</span></span></code></pre></div><p>It worked! Mechanize had no problem following the redirect from dx.doi.org. Similar results would be obtained with a <em>Synlett</em> article or DOI.</p>
<p>For this approach to be truly useful, our software would need to gracefully handle character encoding to avoid garbled strings such as &ldquo;What?s&rdquo;.</p>
<h1 id="how-it-works">How it Works</h1>
<p>Our library relies on two important things being provided by the publisher: (1) a downloadable version of the <a href="http://www.adeptscience.co.uk/kb/article/A626">RIS</a> file for every article; and (2) a consistent way to access it across journals. By simply telling Mechanize to follow a link labeled as &ldquo;Download bibliographical data&rdquo;, we can easily retrieve the full citation. Fortunately, nearly every scientific publisher follows this practice.</p>
<h1 id="conclusions">Conclusions</h1>
<p>Just a few lines of Ruby code have solved a significant scientific information management problem, at least for one journal. A complete solution to the problem would require code for every scientific journal, a task well underway at <a href="http://depth-first.com/articles/2007/06/22/hacking-citeulike-metascripting-with-ruby-and-session">CiteULike</a>. While nothing here can pretend to be an end-user application, it&rsquo;s not difficult to imagine how to build one (or a few) using these basic concepts. But that&rsquo;s a story for another time.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  My New Hugo Site 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
