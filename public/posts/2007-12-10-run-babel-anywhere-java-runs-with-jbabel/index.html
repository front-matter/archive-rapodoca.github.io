<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Run Babel Anywhere Java Runs with JBabel | My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="A recent series of D-F articles have discussed the use of NestedVM to compile cheminformatics programs written in C/C&#43;&#43; to pure java binaries that can be run on any system with a JVM. More specifically, an attempt to compile OpenBabel&rsquo;s babel program to bytecode was only partially successful. With the help of Geoff Hutchison, the problem was resolved. This article introduces JBabel, a platform-independent, pure Java implementation of OpenBabel&rsquo;s babel program.
A Little About JBabel
JBabel was compiled from the Open Babel 2.1.1 source release and can be downloaded from SourceForge. The same jarfile was successfully tested on Linux, Windows and Mac OS X. You can verify JBabel works on your platform with the following command:">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/2007-12-10-run-babel-anywhere-java-runs-with-jbabel/">
    

    <meta property="og:url" content="http://localhost:1313/posts/2007-12-10-run-babel-anywhere-java-runs-with-jbabel/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Run Babel Anywhere Java Runs with JBabel">
  <meta property="og:description" content="A recent series of D-F articles have discussed the use of NestedVM to compile cheminformatics programs written in C/C&#43;&#43; to pure java binaries that can be run on any system with a JVM. More specifically, an attempt to compile OpenBabel’s babel program to bytecode was only partially successful. With the help of Geoff Hutchison, the problem was resolved. This article introduces JBabel, a platform-independent, pure Java implementation of OpenBabel’s babel program.
A Little About JBabel JBabel was compiled from the Open Babel 2.1.1 source release and can be downloaded from SourceForge. The same jarfile was successfully tested on Linux, Windows and Mac OS X. You can verify JBabel works on your platform with the following command:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-12-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-12-10T00:00:00+00:00">

  <meta itemprop="name" content="Run Babel Anywhere Java Runs with JBabel">
  <meta itemprop="description" content="A recent series of D-F articles have discussed the use of NestedVM to compile cheminformatics programs written in C/C&#43;&#43; to pure java binaries that can be run on any system with a JVM. More specifically, an attempt to compile OpenBabel’s babel program to bytecode was only partially successful. With the help of Geoff Hutchison, the problem was resolved. This article introduces JBabel, a platform-independent, pure Java implementation of OpenBabel’s babel program.
A Little About JBabel JBabel was compiled from the Open Babel 2.1.1 source release and can be downloaded from SourceForge. The same jarfile was successfully tested on Linux, Windows and Mac OS X. You can verify JBabel works on your platform with the following command:">
  <meta itemprop="datePublished" content="2007-12-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-12-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="536">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Run Babel Anywhere Java Runs with JBabel">
  <meta name="twitter:description" content="A recent series of D-F articles have discussed the use of NestedVM to compile cheminformatics programs written in C/C&#43;&#43; to pure java binaries that can be run on any system with a JVM. More specifically, an attempt to compile OpenBabel’s babel program to bytecode was only partially successful. With the help of Geoff Hutchison, the problem was resolved. This article introduces JBabel, a platform-independent, pure Java implementation of OpenBabel’s babel program.
A Little About JBabel JBabel was compiled from the Open Babel 2.1.1 source release and can be downloaded from SourceForge. The same jarfile was successfully tested on Linux, Windows and Mac OS X. You can verify JBabel works on your platform with the following command:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Run Babel Anywhere Java Runs with JBabel</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-12-10T00:00:00Z">December 10, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>A recent series of D-F articles have discussed the use of <a href="http://nestedvm.ibex.org/">NestedVM</a> to compile cheminformatics programs written in C/C++ to pure java binaries that can be run on any system with a JVM. More specifically, an attempt to compile <a href="http://openbabel.sf.net">OpenBabel&rsquo;s</a> <code>babel</code> program to bytecode was only <a href="/articles/2007/11/26/compiling-open-babel-to-pure-java-bytecode-with-nestedvm-building-a-runnable-classfile-that-almost-works">partially successful</a>. With the <a href="http://sourceforge.net/mailarchive/forum.php?thread_name=819391.60947.qm%40web34201.mail.mud.yahoo.com&amp;forum_name=openbabel-discuss">help of Geoff Hutchison</a>, the problem was resolved. This article introduces JBabel, a platform-independent, pure Java implementation of OpenBabel&rsquo;s <code>babel</code> program.</p>
<h1 id="a-little-about-jbabel">A Little About JBabel</h1>
<p>JBabel was compiled from the <a href="http://sourceforge.net/project/showfiles.php?group_id=40728&amp;package_id=32894&amp;release_id=521581">Open Babel 2.1.1 source release</a> and can be <a href="http://sourceforge.net/project/showfiles.php?group_id=144794&amp;package_id=255103">downloaded from SourceForge</a>. The same jarfile was successfully tested on Linux, Windows and Mac OS X. You can verify JBabel works on your platform with the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -jar jbabel-20071209.jar -Hsmi
</span></span><span style="display:flex;"><span>smi  SMILES format
</span></span><span style="display:flex;"><span>A linear text format which can describe the connectivity
</span></span><span style="display:flex;"><span>and chirality of a molecule
</span></span><span style="display:flex;"><span>Write Options e.g. -xt
</span></span><span style="display:flex;"><span>  n no molecule name
</span></span><span style="display:flex;"><span>  t molecule name only
</span></span><span style="display:flex;"><span>  r radicals lower <span style="color:#66d9ef">case</span> eg ethyl is Cc
</span></span></code></pre></div><p>This version of JBabel was compiled with support for three formats:</p>
<ul>
<li>SMILES (smi). Non-canonical SMILES.</li>
<li>MDL (mol). Molfiles and SD Files.</li>
<li>Canonical SMILES (can). Canonical SMILES implementation <a href="/articles/2006/11/06/stone-soup">donated by eMolecules</a>.</li>
</ul>
<p>I&rsquo;ll discuss exactly how support for these formats was added in a subsequent post. More formats will be added in the future. For now, let&rsquo;s just try JBabel out.</p>
<h1 id="testing-jbabel">Testing JBabel</h1>
<p>One way to use JBabel is interactively from the command line - just leave out an input or output file parameter. For example, if you wanted to get the eMolecules canonical SMILES for <a href="http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?cid=68617">sertraline</a>, you might do something like this (be sure to use two returns to begin processing):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -jar jbabel-20071209.jar -ismi -ocan
</span></span><span style="display:flex;"><span>CN<span style="color:#f92672">[</span>C@H<span style="color:#f92672">]</span>1CC<span style="color:#f92672">[</span>C@H<span style="color:#f92672">](</span>C2<span style="color:#f92672">=</span>CC<span style="color:#f92672">=</span>CC<span style="color:#f92672">=</span>C12<span style="color:#f92672">)</span>C3<span style="color:#f92672">=</span>CC<span style="color:#f92672">(=</span>C<span style="color:#f92672">(</span>C<span style="color:#f92672">=</span>C3<span style="color:#f92672">)</span>Cl<span style="color:#f92672">)</span>Cl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CN<span style="color:#f92672">[</span>C@H<span style="color:#f92672">]</span>1CC<span style="color:#f92672">[</span>C@H<span style="color:#f92672">](</span>c2ccc<span style="color:#f92672">(</span>Cl<span style="color:#f92672">)</span>c<span style="color:#f92672">(</span>Cl<span style="color:#f92672">)</span>c2<span style="color:#f92672">)</span>c2ccccc12
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> molecule converted
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">34</span> audit log messages
</span></span></code></pre></div><p>This canonical SMILES can be converted into a molfile with the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ java -jar jbabel-20071209.jar -ismi -omol
</span></span><span style="display:flex;"><span>CN<span style="color:#f92672">[</span>C@H<span style="color:#f92672">]</span>1CC<span style="color:#f92672">[</span>C@H<span style="color:#f92672">](</span>c2ccc<span style="color:#f92672">(</span>Cl<span style="color:#f92672">)</span>c<span style="color:#f92672">(</span>Cl<span style="color:#f92672">)</span>c2<span style="color:#f92672">)</span>c2ccccc12
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> OpenBabel12090723182D
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">24</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0999</span> V2000
</span></span><span style="display:flex;"><span>    0.0000    0.0000    0.0000 C   <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>To convert using input and output files, we could use a medium-sized dataset such as the <a href="http://rubyforge.org/frs/download.php/27768/pubchem_benzodiazepine_20071110.sdf.gz">PubChem benzodiazepine dataset</a> prepared for <a href="http://rbtk.rubyforge.org/">Rubidium</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -jar jbabel-20071209.jar -imol pubchem_benzodiazepine_20071110.sdf -ocan pubchem_benzodiazepine_20071110.smi
</span></span><span style="display:flex;"><span><span style="color:#f92672">==============================</span>
</span></span><span style="display:flex;"><span>*** Open Babel Warning  in ReadMolecule
</span></span><span style="display:flex;"><span>  WARNING: Problems reading a MDL file
</span></span><span style="display:flex;"><span>Cannot read title line
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2117</span> molecules converted
</span></span></code></pre></div><p>This test, which parses 2117 records, required four minutes forty-five seconds on my system. For comparison, the natively compiled binary did the same thing in about thirteen seconds. Clearly, the JBabel performance hit is substantial.</p>
<h1 id="uses">Uses</h1>
<p>Although it&rsquo;s very unlikely that JBabel will ever be useful in performance-critical situations, its portability makes it attractive for other uses. Examples include:</p>
<ul>
<li>application development in heterogeneous computing environments;</li>
<li>use on systems in which native compilation may be difficult, such as those with unusual configurations or operating systems;</li>
<li>cases in which native binaries work poorly or not at all, such as in applets and Java applications;</li>
<li>situations in which performance is a minor consideration, such as in end-user applications that process only a few molecules at a time, or during application prototyping</li>
</ul>
<h1 id="conclusions">Conclusions</h1>
<p>This article has described JBabel, the first portable binary version of OpenBabel&rsquo;s <code>babel</code> molecular file format interconversion program. The next article in this series will describe in detail the steps that were used to compile it.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  My New Hugo Site 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
