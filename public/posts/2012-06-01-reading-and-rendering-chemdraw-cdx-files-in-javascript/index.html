<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Reading (and Rendering) ChemDraw CDX Files in JavaScript | My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="About four years ago I speculated that JavaScript may be capable of filling some important holes in chemistry software. Since then, a number of important events have taken place to move JavaScript onto center stage as a programming language, including the release of Chrome with its huge JavaScript performance increases and rocket trajectory to overtake IE as the most popular browser, the runaway success of iOS as a computing platform free of browser plugins, the renaissance of server-side JavaScript through Node.js and other frameworks, and a dazzling array of languages like CoffeeScript that compile to JavaScript.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/2012-06-01-reading-and-rendering-chemdraw-cdx-files-in-javascript/">
    

    <meta property="og:url" content="http://localhost:1313/posts/2012-06-01-reading-and-rendering-chemdraw-cdx-files-in-javascript/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Reading (and Rendering) ChemDraw CDX Files in JavaScript">
  <meta property="og:description" content="About four years ago I speculated that JavaScript may be capable of filling some important holes in chemistry software. Since then, a number of important events have taken place to move JavaScript onto center stage as a programming language, including the release of Chrome with its huge JavaScript performance increases and rocket trajectory to overtake IE as the most popular browser, the runaway success of iOS as a computing platform free of browser plugins, the renaissance of server-side JavaScript through Node.js and other frameworks, and a dazzling array of languages like CoffeeScript that compile to JavaScript.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2012-06-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2012-06-01T00:00:00+00:00">

  <meta itemprop="name" content="Reading (and Rendering) ChemDraw CDX Files in JavaScript">
  <meta itemprop="description" content="About four years ago I speculated that JavaScript may be capable of filling some important holes in chemistry software. Since then, a number of important events have taken place to move JavaScript onto center stage as a programming language, including the release of Chrome with its huge JavaScript performance increases and rocket trajectory to overtake IE as the most popular browser, the runaway success of iOS as a computing platform free of browser plugins, the renaissance of server-side JavaScript through Node.js and other frameworks, and a dazzling array of languages like CoffeeScript that compile to JavaScript.">
  <meta itemprop="datePublished" content="2012-06-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2012-06-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="1077">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Reading (and Rendering) ChemDraw CDX Files in JavaScript">
  <meta name="twitter:description" content="About four years ago I speculated that JavaScript may be capable of filling some important holes in chemistry software. Since then, a number of important events have taken place to move JavaScript onto center stage as a programming language, including the release of Chrome with its huge JavaScript performance increases and rocket trajectory to overtake IE as the most popular browser, the runaway success of iOS as a computing platform free of browser plugins, the renaissance of server-side JavaScript through Node.js and other frameworks, and a dazzling array of languages like CoffeeScript that compile to JavaScript.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Reading (and Rendering) ChemDraw CDX Files in JavaScript</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2012-06-01T00:00:00Z">June 1, 2012</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>About four years ago I speculated that <a href="/articles/2008/07/15/javascript-for-cheminformatics/">JavaScript may be capable of filling some important holes in chemistry software</a>. Since then, a number of important events have taken place to move JavaScript onto center stage as a programming language, including the <a href="/articles/2008/09/05/chrome-and-a-v8-javascript-takes-a-giant-leap-forward/">release of Chrome</a> with its huge JavaScript performance increases and rocket trajectory to overtake IE as the most popular browser, the runaway success of iOS as a computing platform free of browser plugins, the renaissance of server-side JavaScript through <a href="/articles/2010/10/02/node-js/">Node.js</a> and other frameworks, and a dazzling array of languages like <a href="http://coffeescript.org/">CoffeeScript</a> that compile to JavaScript.</p>
<p>JavaScript for cheminformatics has started to look a lot less improbable as well. In late 2010, my company began distributing the first copies of its chemical structure editor <a href="http://metamolecular.com/chemwriter/">ChemWriter</a> - a complete rewrite of the original Java applet in JavaScript. Following this, we released the plugin- and server-free chemical structure rendering package <a href="http://metamolecular.com/chemvector/">ChemVector</a>. Other companies now offer products in this space as well, with indications that big players are now starting to take notice.</p>
<p>This article highlights a small part of some work I&rsquo;m now doing that demonstrates the readiness of JavaScript to solve difficult cheminformatics problems.</p>
<h1 id="demo-read-a-chemdraw-file">Demo: Read a ChemDraw File</h1>
<p>Given an arbitrary binary ChemDraw CDX file, it&rsquo;s now possible to print out the encoded object graph in a JavaScript console. For example, <a href="/images/posts/benzene.cdxx">this file</a> generates this output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Document <span style="color:#ae81ff">0</span> <span style="color:#f92672">[</span>0x0000<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  Creation Program:ChemDraw 12.0.3.1216
</span></span><span style="display:flex;"><span>  Name:benzene.cdx
</span></span><span style="display:flex;"><span>  Font Table:Windows fonts: Font<span style="color:#f92672">[</span>id:20, characterSet: 10000, name: Times<span style="color:#f92672">]</span>,Font<span style="color:#f92672">[</span>id:21, characterSet: 10000, name: Helvetica<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  Bounding Box:<span style="color:#f92672">(</span>10444645t, 6456556r, 14452480b, 9927443l<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  Color Table:Color<span style="color:#f92672">[</span>red: 65535, green: 65535, blue: 65535<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 0, green: 0, blue: 0<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 65535, green: 0, blue: 0<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 65535, green: 65535, blue: 0<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 0, green: 65535, blue: 0<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 0, green: 65535, blue: 65535<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 0, green: 0, blue: 65535<span style="color:#f92672">]</span>,Color<span style="color:#f92672">[</span>red: 65535, green: 0, blue: 65535<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  Foreground Color:0
</span></span><span style="display:flex;"><span>  Background Color:1
</span></span><span style="display:flex;"><span>  Atom Show Query:true
</span></span><span style="display:flex;"><span>  Atom Show Stereo:false
</span></span><span style="display:flex;"><span>  Atom Show Atom Number:false
</span></span><span style="display:flex;"><span>  Atom Show Terminal Carbon Labels:true
</span></span><span style="display:flex;"><span>  Atom Show Non-Terminal Carbon Labels:true
</span></span><span style="display:flex;"><span>  Atom Hide Implicit Hydrogens:true
</span></span><span style="display:flex;"><span>  Atom Show Enhanced Stereo:true
</span></span><span style="display:flex;"><span>  Bond Show Query:true
</span></span><span style="display:flex;"><span>  Bond Show Stereo:false
</span></span><span style="display:flex;"><span>  Bond Show Reaction:true
</span></span><span style="display:flex;"><span>  Interpret Chemically:true
</span></span><span style="display:flex;"><span>  Mac Print Info:0,3,0,0,2,208,2,208,0,0,0,0,29,254,22,246,255,134,255,136,30,118,23,112,3,103,5,40,3,252,0,2,0,0,0,72,0,72,0,0,0,0,2,216,2,40,0,1,0,0,0,100,0,0,0,1,0,3,3,3,0,0,0,1,39,15,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,104,0,0,25,1,144,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</span></span><span style="display:flex;"><span>  Print Margins:<span style="color:#f92672">(</span>2359296t, 2359296r, 2359296b, 2359296l<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  Chain Angle:7864320
</span></span><span style="display:flex;"><span>  Bond Spacing:120
</span></span><span style="display:flex;"><span>  Bond Length:1966080
</span></span><span style="display:flex;"><span>  Bold Width:262144
</span></span><span style="display:flex;"><span>  Line Width:65536
</span></span><span style="display:flex;"><span>  Margin Width:131072
</span></span><span style="display:flex;"><span>  Hash Spacing:176896
</span></span><span style="display:flex;"><span>  Label Style:Font Style <span style="color:#f92672">[</span>id: <span style="color:#ae81ff">21</span> type: <span style="color:#ae81ff">96</span> size: <span style="color:#ae81ff">200</span> color: 3<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  Caption Style:Font Style <span style="color:#f92672">[</span>id: <span style="color:#ae81ff">20</span> type: <span style="color:#ae81ff">0</span> size: <span style="color:#ae81ff">240</span> color: 3<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  Caption Justification:0
</span></span><span style="display:flex;"><span>  Fractional Widths:true
</span></span><span style="display:flex;"><span>  Label Justification:5
</span></span><span style="display:flex;"><span>  ? <span style="color:#f92672">[</span>828<span style="color:#f92672">]</span>: unknown
</span></span><span style="display:flex;"><span>  ? <span style="color:#f92672">[</span>829<span style="color:#f92672">]</span>: unknown
</span></span><span style="display:flex;"><span>  ? <span style="color:#f92672">[</span>82a<span style="color:#f92672">]</span>: unknown
</span></span><span style="display:flex;"><span>  Window is Zoomed:true
</span></span><span style="display:flex;"><span>  Window Position:<span style="color:#f92672">(</span>3997696, 4915200<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  Window Size:<span style="color:#f92672">(</span>38731776, 50528256<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  Page <span style="color:#ae81ff">43</span> <span style="color:#f92672">[</span>0x002b<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    Bounding Box:<span style="color:#f92672">(</span>0t, 0r, 47179366b, 35389440l<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    Width Pages:1
</span></span><span style="display:flex;"><span>    Height Pages:1
</span></span><span style="display:flex;"><span>    Header Position:2359296
</span></span><span style="display:flex;"><span>    Footer Position:2359296
</span></span><span style="display:flex;"><span>    Print Trim Marks:true
</span></span><span style="display:flex;"><span>    Fragment <span style="color:#ae81ff">27</span> <span style="color:#f92672">[</span>0x001b<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>      Bounding Box:<span style="color:#f92672">(</span>10444645t, 6456556r, 14452480b, 9927443l<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      Node <span style="color:#ae81ff">24</span> <span style="color:#f92672">[</span>0x0018<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:1
</span></span><span style="display:flex;"><span>        Position 2D:<span style="color:#f92672">(</span>6489324, 11465523<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        Atom CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Node End
</span></span><span style="display:flex;"><span>      Node <span style="color:#ae81ff">26</span> <span style="color:#f92672">[</span>0x001a<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:3
</span></span><span style="display:flex;"><span>        Position 2D:<span style="color:#f92672">(</span>6489324, 13431603<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        Atom CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Node End
</span></span><span style="display:flex;"><span>      Node <span style="color:#ae81ff">28</span> <span style="color:#f92672">[</span>0x001c<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:5
</span></span><span style="display:flex;"><span>        Position 2D:<span style="color:#f92672">(</span>8192000, 14414643<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        Atom CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Node End
</span></span><span style="display:flex;"><span>      Node <span style="color:#ae81ff">30</span> <span style="color:#f92672">[</span>0x001e<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:7
</span></span><span style="display:flex;"><span>        Position 2D:<span style="color:#f92672">(</span>9894675, 13431603<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        Atom CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Node End
</span></span><span style="display:flex;"><span>      Node <span style="color:#ae81ff">32</span> <span style="color:#f92672">[</span>0x0020<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:9
</span></span><span style="display:flex;"><span>        Position 2D:<span style="color:#f92672">(</span>9894675, 11465523<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        Atom CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Node End
</span></span><span style="display:flex;"><span>      Node <span style="color:#ae81ff">34</span> <span style="color:#f92672">[</span>0x0022<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:11
</span></span><span style="display:flex;"><span>        Position 2D:<span style="color:#f92672">(</span>8192000, 10482483<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        Atom CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Node End
</span></span><span style="display:flex;"><span>      Bond <span style="color:#ae81ff">36</span> <span style="color:#f92672">[</span>0x0024<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:13
</span></span><span style="display:flex;"><span>        Bond Order:2
</span></span><span style="display:flex;"><span>        Bond Double Position:1
</span></span><span style="display:flex;"><span>        Bond Begin:24
</span></span><span style="display:flex;"><span>        Bond End:26
</span></span><span style="display:flex;"><span>        Bond Bond Ordering:41,0,0,37
</span></span><span style="display:flex;"><span>      Bond End
</span></span><span style="display:flex;"><span>      Bond <span style="color:#ae81ff">37</span> <span style="color:#f92672">[</span>0x0025<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:14
</span></span><span style="display:flex;"><span>        Bond Begin:26
</span></span><span style="display:flex;"><span>        Bond End:28
</span></span><span style="display:flex;"><span>        Bond CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Bond End
</span></span><span style="display:flex;"><span>      Bond <span style="color:#ae81ff">38</span> <span style="color:#f92672">[</span>0x0026<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:15
</span></span><span style="display:flex;"><span>        Bond Order:2
</span></span><span style="display:flex;"><span>        Bond Double Position:1
</span></span><span style="display:flex;"><span>        Bond Begin:28
</span></span><span style="display:flex;"><span>        Bond End:30
</span></span><span style="display:flex;"><span>        Bond Bond Ordering:37,0,0,39
</span></span><span style="display:flex;"><span>      Bond End
</span></span><span style="display:flex;"><span>      Bond <span style="color:#ae81ff">39</span> <span style="color:#f92672">[</span>0x0027<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:16
</span></span><span style="display:flex;"><span>        Bond Begin:30
</span></span><span style="display:flex;"><span>        Bond End:32
</span></span><span style="display:flex;"><span>        Bond CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Bond End
</span></span><span style="display:flex;"><span>      Bond <span style="color:#ae81ff">40</span> <span style="color:#f92672">[</span>0x0028<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:17
</span></span><span style="display:flex;"><span>        Bond Order:2
</span></span><span style="display:flex;"><span>        Bond Double Position:1
</span></span><span style="display:flex;"><span>        Bond Begin:32
</span></span><span style="display:flex;"><span>        Bond End:34
</span></span><span style="display:flex;"><span>        Bond Bond Ordering:39,0,0,41
</span></span><span style="display:flex;"><span>      Bond End
</span></span><span style="display:flex;"><span>      Bond <span style="color:#ae81ff">41</span> <span style="color:#f92672">[</span>0x0029<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        Z Order:18
</span></span><span style="display:flex;"><span>        Bond Begin:34
</span></span><span style="display:flex;"><span>        Bond End:24
</span></span><span style="display:flex;"><span>        Bond CIP Stereochemistry:1
</span></span><span style="display:flex;"><span>      Bond End
</span></span><span style="display:flex;"><span>    Fragment End
</span></span><span style="display:flex;"><span>  Page End
</span></span><span style="display:flex;"><span>Document End
</span></span></code></pre></div><p>For background, see previous D-F articles on the <a href="/articles/2010/09/13/a-brief-introduction-to-the-chemdraw-cdx-file-format/">ChemDraw CDX file format</a> and the <a href="/articles/2010/09/21/making-sense-of-the-chemdraw-cdx-file-format-with-cdxhexdumper/">CDX HexDumper utility</a>.</p>
<p>Being able to visualize the contents of arbitrary CDX files this way is an important aid to debugging and a prerequisite to developing full-featured graphical display capability.</p>
<h1 id="why-read-chemdraw-files-in-javascript">Why Read ChemDraw Files in JavaScript?</h1>
<p>It&rsquo;s a pretty safe bet that any organic chemist who has written a report, submitted a journal manuscript, or filed a patent has used ChemDraw. As a result, ChemDraw files are everywhere in chemistry.</p>
<p>If you&rsquo;ve spent any time watching how chemists work, the need to manipulate CDX files may be obvious. Even so, I&rsquo;d like to offer a specific example taken from a recent project that illustrates that the need to work with CDX files can come from some unlikely places.</p>
<p><a href="/articles/2012/05/21/why-organic-chemistry-is-like-facebook/">Reagents</a> is iOS Organic Chemistry reference app that I co-developed with <a href="http://masterorganicchemistry.com/">James Ashenhurst</a>. It makes heavy use of ChemDraw CDX files to display structures and reaction schemes.</p>
<p>These structures and reactions schemes are automatically pre-rendered through <a href="http://metamolecular.com/blog/2011/07/18/chembot-convert-chemdraw-cdx-files-into-png-images-using-applescript/">AppleScript automation of the ChemDraw application</a>. Although this works, it&rsquo;s far from optimal. For example, Reagents runs on iPad 3 (retina) displays. To prevent pixellation, our horizontal resolution measures in the thousands of pixels. The large size of the resulting images means more storage space and longer download times. But the biggest problem lies in the fact that every time we make changes to these ChemDraw files, we must regenerate the corresponding raster image.</p>
<p>It would be so much better to dynamically render these ChemDraw files inside an iOS UI element such as <a href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebView_Class/Reference/Reference.html">UIWebView</a>.</p>
<p>We&rsquo;d also like to do interesting things with the ChemDraw files themselves. I won&rsquo;t spill the beans here, but suffice it to say that if we&rsquo;re successful you&rsquo;ll be seeing one or more new iOS apps that repurpose the Reagents content in some interesting ways.</p>
<p>Yet another use case for a pure JavaScript CDX reader and display component would be in interfacing the system clipboard with a paste target in a Web page. <a href="http://metamolecular.com/blog/2012/05/29/ie9-error-when-pasting-from-chemdraw-to-chemwriter-and-a-fix/">ChemWriter</a> currently supports this capability on Windows, but there&rsquo;s much more we could do.</p>
<h1 id="larger-vision">Larger Vision</h1>
<p>JavaScript has established a strong foothold in every area of modern computing: tablets; mobile; web browser; and server. But at the same time, there is no full-featured cheminformatics platform, commercial or otherwise, for building chemistry software in JavaScript.</p>
<p>We have many of the components for such a platform, but they&rsquo;re spread over different products and applications. Having been developed over the course of a couple of years, the code itself show signs of needing a refresher. A unified, well-designed JavaScript platform centralizing core cheminformatics functionality would be a valuable asset in the continued development of useful tools and applications.</p>
<p>Given the centrality of the CDX file format in chemistry, we&rsquo;re starting there first.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  My New Hugo Site 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
