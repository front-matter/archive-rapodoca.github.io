<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>The Mysterious Google Chrome SVG Bug Revisited | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="A previous post outlined the steps I took to track down a bug in Google Chrome that prevented the firing of mouse events on certain SVG elements. After filing a bug report, one commenter suggested that I create a single file that illustrates the bug, rather than a full Google Closure project.
That&rsquo;s exactly what I did. You can view the test page here. In addition to major simplification, this demo shows that the Chrome SVG event bug also affects event firing from rectangles as well ellipses. Here&rsquo;s the source:">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "Richard L. Apodaca">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="https://depth-first.com:1313/articles/2010-12-06-the-mysterious-google-chrome-svg-bug-revisited/">
    

    <meta property="og:url" content="https://depth-first.com:1313/articles/2010-12-06-the-mysterious-google-chrome-svg-bug-revisited/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="The Mysterious Google Chrome SVG Bug Revisited">
  <meta property="og:description" content="A previous post outlined the steps I took to track down a bug in Google Chrome that prevented the firing of mouse events on certain SVG elements. After filing a bug report, one commenter suggested that I create a single file that illustrates the bug, rather than a full Google Closure project.
That’s exactly what I did. You can view the test page here. In addition to major simplification, this demo shows that the Chrome SVG event bug also affects event firing from rectangles as well ellipses. Here’s the source:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2010-12-06T00:00:00+00:00">
    <meta property="article:modified_time" content="2010-12-06T00:00:00+00:00">

  <meta itemprop="name" content="The Mysterious Google Chrome SVG Bug Revisited">
  <meta itemprop="description" content="A previous post outlined the steps I took to track down a bug in Google Chrome that prevented the firing of mouse events on certain SVG elements. After filing a bug report, one commenter suggested that I create a single file that illustrates the bug, rather than a full Google Closure project.
That’s exactly what I did. You can view the test page here. In addition to major simplification, this demo shows that the Chrome SVG event bug also affects event firing from rectangles as well ellipses. Here’s the source:">
  <meta itemprop="datePublished" content="2010-12-06T00:00:00+00:00">
  <meta itemprop="dateModified" content="2010-12-06T00:00:00+00:00">
  <meta itemprop="wordCount" content="293">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="The Mysterious Google Chrome SVG Bug Revisited">
  <meta name="twitter:description" content="A previous post outlined the steps I took to track down a bug in Google Chrome that prevented the firing of mouse events on certain SVG elements. After filing a bug report, one commenter suggested that I create a single file that illustrates the bug, rather than a full Google Closure project.
That’s exactly what I did. You can view the test page here. In addition to major simplification, this demo shows that the Chrome SVG event bug also affects event firing from rectangles as well ellipses. Here’s the source:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">The Mysterious Google Chrome SVG Bug Revisited</h1>
      
      <p class="tracked">
        By <strong>Richard L. Apodaca</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2010-12-06T00:00:00Z">December 6, 2010</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>A previous post outlined the steps I took to track down <a href="/articles/2010/12/03/the-mysterious-google-chrome-svg-bug/">a bug in Google Chrome that prevented the firing of mouse events on certain SVG elements</a>. After <a href="http://code.google.com/p/chromium/issues/detail?id=65238">filing a bug report</a>, one commenter <a href="http://code.google.com/p/chromium/issues/detail?id=65238#c3">suggested that I create a single file that illustrates the bug</a>, rather than a full Google Closure project.</p>
<p>That&rsquo;s exactly what I did. You can <a href="/demos/chrome-bug-65238/chrome-on-linux-windows-svg-event-bug.xhtml">view the test page here</a>. In addition to major simplification, this demo shows that the Chrome SVG event bug also affects event firing from rectangles as well ellipses. Here&rsquo;s the source:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/1999/xhtml&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">title</span>&gt;Chrome on Linux/Windows SVG Event Bug&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">p</span> { <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">600</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">line-height</span>: <span style="color:#ae81ff">1.5</span><span style="color:#66d9ef">em</span>; }
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">svg</span> { <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">600</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">200</span><span style="color:#66d9ef">px</span>;}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">enter</span>(<span style="color:#a6e22e">event</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#34;fill&#34;</span>, <span style="color:#e6db74">&#34;#22AA00&#34;</span>);
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">exit</span>(<span style="color:#a6e22e">event</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#34;fill&#34;</span>, <span style="color:#e6db74">&#34;#AA2222&#34;</span>);
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">g</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;translate(0, 200) scale(100, -100)&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">ellipse</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">rx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.75&#34;</span> <span style="color:#a6e22e">ry</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.75&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#AA2222&#34;</span> <span style="color:#a6e22e">onmouseover</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;enter(evt)&#34;</span> <span style="color:#a6e22e">onmouseout</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;exit(evt)&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">ellipse</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">rx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.2&#34;</span> <span style="color:#a6e22e">ry</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.2&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#AA2222&#34;</span> <span style="color:#a6e22e">onmouseover</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;enter(evt)&#34;</span> <span style="color:#a6e22e">onmouseout</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;exit(evt)&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">rect</span> <span style="color:#a6e22e">x</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;4&#34;</span> <span style="color:#a6e22e">y</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.9&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.2&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.2&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#AA2222&#34;</span> <span style="color:#a6e22e">onmouseover</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;enter(evt)&#34;</span> <span style="color:#a6e22e">onmouseout</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;exit(evt)&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">g</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">svg</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      Hover the mouse cursor over all three shapes. Each shape should change its color from red to green.
</span></span><span style="display:flex;"><span>      This test works on all recent SVG-enabled browsers, but fails in Google Chrome 8.0.552.215 on Linux and Windows.
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      On Chrome for Linux and Windows, the smaller circle and square on the right don&#39;t turn green. On Chrome for OS X, all
</span></span><span style="display:flex;"><span>      three shapes turn green, which is the expected behavior.
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      For details, see &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://code.google.com/p/chromium/issues/detail?id=65238&#34;</span>&gt;this bug report&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>      and &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/articles/2010/12/03/the-mysterious-google-chrome-svg-bug/&#34;</span>&gt;this writeup&lt;/<span style="color:#f92672">a</span>&gt;.
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><p>This demo creates a transformed SVG coordinate space, populates it with three shapes, and assigns two event listeners, <code>enter</code> and <code>exit</code>, to respond to mouse events by changing the shapes&rsquo; fill colors.</p>
<p><strong>Update 12/06/2010</strong> Fixed onmouseover/onmouseout attributes in demo code.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://depth-first.com:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
