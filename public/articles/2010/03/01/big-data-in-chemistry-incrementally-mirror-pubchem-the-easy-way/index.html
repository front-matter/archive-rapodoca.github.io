<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Big Data in Chemistry: Incrementally Mirror PubChem the Easy Way | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The previous article in this series described a simple way to set up your own PubChem mirror. By using some simple Unix command line tools, I showed one way to maintain a fully up-to-date snapshot of PubChem.
But how do you continue to maintain a dataset based on PubChem days, weeks, and months after you import the initial snapshot? The PubChem dataset will be simply too large to process every time you refresh your snapshot. You&rsquo;ll need something more incremental.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "Richard L. Apodaca">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2010/03/01/big-data-in-chemistry-incrementally-mirror-pubchem-the-easy-way/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2010/03/01/big-data-in-chemistry-incrementally-mirror-pubchem-the-easy-way/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="Big Data in Chemistry: Incrementally Mirror PubChem the Easy Way">
  <meta property="og:description" content="The previous article in this series described a simple way to set up your own PubChem mirror. By using some simple Unix command line tools, I showed one way to maintain a fully up-to-date snapshot of PubChem.
But how do you continue to maintain a dataset based on PubChem days, weeks, and months after you import the initial snapshot? The PubChem dataset will be simply too large to process every time you refresh your snapshot. You’ll need something more incremental.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2010-03-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2010-03-01T00:00:00+00:00">

  <meta itemprop="name" content="Big Data in Chemistry: Incrementally Mirror PubChem the Easy Way">
  <meta itemprop="description" content="The previous article in this series described a simple way to set up your own PubChem mirror. By using some simple Unix command line tools, I showed one way to maintain a fully up-to-date snapshot of PubChem.
But how do you continue to maintain a dataset based on PubChem days, weeks, and months after you import the initial snapshot? The PubChem dataset will be simply too large to process every time you refresh your snapshot. You’ll need something more incremental.">
  <meta itemprop="datePublished" content="2010-03-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2010-03-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="207">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Big Data in Chemistry: Incrementally Mirror PubChem the Easy Way">
  <meta name="twitter:description" content="The previous article in this series described a simple way to set up your own PubChem mirror. By using some simple Unix command line tools, I showed one way to maintain a fully up-to-date snapshot of PubChem.
But how do you continue to maintain a dataset based on PubChem days, weeks, and months after you import the initial snapshot? The PubChem dataset will be simply too large to process every time you refresh your snapshot. You’ll need something more incremental.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Big Data in Chemistry: Incrementally Mirror PubChem the Easy Way</h1>
      
      <p class="tracked">
        By <strong>Richard L. Apodaca</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2010-03-01T00:00:00Z">March 1, 2010</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>The previous article in this series described a simple way to <a href="/articles/2010/02/09/big-data-in-chemistry-mirroring-pubchem-the-easy-way-part-2">set up your own PubChem mirror</a>. By using some simple Unix command line tools, I showed one way to maintain a fully up-to-date snapshot of PubChem.</p>
<p>But how do you continue to maintain a dataset based on PubChem days, weeks, and months after you import the initial snapshot? The PubChem dataset will be simply too large to process every time you refresh your snapshot. You&rsquo;ll need something more incremental.</p>
<p>Fortunately, there&rsquo;s an answer. In addition to all of the other cool things wget can do with the PubChem FTP site, it can also be used to maintain a set of incremental updates.</p>
<p>This command does it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget --mirror --accept <span style="color:#e6db74">&#34;*.sdf.gz,killed-SIDs,killed-CIDs&#34;</span> --wait <span style="color:#ae81ff">1</span> ftp://ftp.ncbi.nlm.nih.gov/pubchem/<span style="color:#f92672">{</span>Compound,Substance<span style="color:#f92672">}</span>/Daily/
</span></span></code></pre></div><p>We tell wget to mirror the daily Compound and Substance directories on the PubChem FTP server. In addition to sdfgz files, we include the files listing obsolete Compound and Structure records. Because we&rsquo;ll be making a lot of requests, we play nice by adding a one second delay between them.</p>
<p>Although the daily archives are rotated weekly, our local copy will contain <em>all</em> updates - as long as we don&rsquo;t delete them manually, and the script is run at least once per week.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
