<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>From IUPAC Name to Molecular Formula with Ruby CDK | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Recently, a question was raised on the Yahoo cheminf group list regarding the conversion of IUPAC names into molecular formulas. This can be done quickly with Ruby CDK, as this article will show.
Prerequisites
This tutorial requires Ruby CDK, which in turn requires Ruby Java Bridge (RJB). A recent Depth-First article described the minimal system configuration required to run RJB on Linux. Another article showed how to install RJB on Windows.
A Small Library
The following library will convert IUPAC nomenclature into molecular formulas with Ruby:">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2007/03/from-iupac-name-to-molecular-formula-with-ruby-cdk/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2007/03/from-iupac-name-to-molecular-formula-with-ruby-cdk/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="From IUPAC Name to Molecular Formula with Ruby CDK">
  <meta property="og:description" content="Recently, a question was raised on the Yahoo cheminf group list regarding the conversion of IUPAC names into molecular formulas. This can be done quickly with Ruby CDK, as this article will show.
Prerequisites This tutorial requires Ruby CDK, which in turn requires Ruby Java Bridge (RJB). A recent Depth-First article described the minimal system configuration required to run RJB on Linux. Another article showed how to install RJB on Windows.
A Small Library The following library will convert IUPAC nomenclature into molecular formulas with Ruby:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2007-03-13T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-03-13T00:00:00+00:00">

  <meta itemprop="name" content="From IUPAC Name to Molecular Formula with Ruby CDK">
  <meta itemprop="description" content="Recently, a question was raised on the Yahoo cheminf group list regarding the conversion of IUPAC names into molecular formulas. This can be done quickly with Ruby CDK, as this article will show.
Prerequisites This tutorial requires Ruby CDK, which in turn requires Ruby Java Bridge (RJB). A recent Depth-First article described the minimal system configuration required to run RJB on Linux. Another article showed how to install RJB on Windows.
A Small Library The following library will convert IUPAC nomenclature into molecular formulas with Ruby:">
  <meta itemprop="datePublished" content="2007-03-13T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-03-13T00:00:00+00:00">
  <meta itemprop="wordCount" content="269">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="From IUPAC Name to Molecular Formula with Ruby CDK">
  <meta name="twitter:description" content="Recently, a question was raised on the Yahoo cheminf group list regarding the conversion of IUPAC names into molecular formulas. This can be done quickly with Ruby CDK, as this article will show.
Prerequisites This tutorial requires Ruby CDK, which in turn requires Ruby Java Bridge (RJB). A recent Depth-First article described the minimal system configuration required to run RJB on Linux. Another article showed how to install RJB on Windows.
A Small Library The following library will convert IUPAC nomenclature into molecular formulas with Ruby:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">From IUPAC Name to Molecular Formula with Ruby CDK</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-03-13T00:00:00Z">March 13, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Recently, a question was raised on the <a href="http://tech.groups.yahoo.com/group/chemoinf/">Yahoo cheminf group list</a> regarding the conversion of IUPAC names into molecular formulas. This can be done quickly with Ruby CDK, as this article will show.</p>
<h1 id="prerequisites">Prerequisites</h1>
<p>This tutorial requires <a href="http://depth-first.com/articles/2006/10/30/agile-chemical-informatics-development-with-cdk-and-ruby-rcdk-0-3-0">Ruby CDK</a>, which in turn requires <a href="http://rjb.rubyforge.org/">Ruby Java Bridge</a> (RJB). A recent Depth-First article described the minimal system configuration required to run <a href="http://depth-first.com/articles/2006/08/26/scripting-java-libraries-with-ruby-java-bridge">RJB on Linux</a>. Another article showed how to install <a href="http://depth-first.com/articles/2006/10/12/running-ruby-java-bridge-on-windows">RJB on Windows</a>.</p>
<h1 id="a-small-library">A Small Library</h1>
<p>The following library will convert IUPAC nomenclature into molecular formulas with Ruby:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rubygems&#39;</span>
</span></span><span style="display:flex;"><span>require_gem <span style="color:#e6db74">&#39;rcdk&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rcdk&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rcdk/util&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">module</span> Formulator
</span></span><span style="display:flex;"><span>  @@hydrogen_adder <span style="color:#f92672">=</span> <span style="color:#66d9ef">Rjb</span><span style="color:#f92672">::</span>import(<span style="color:#e6db74">&#39;org.openscience.cdk.tools.HydrogenAdder&#39;</span>)<span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_formula</span>(iupac_name)
</span></span><span style="display:flex;"><span>    mol <span style="color:#f92672">=</span> <span style="color:#66d9ef">RCDK</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Util</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Lang</span><span style="color:#f92672">.</span>read_iupac iupac_name
</span></span><span style="display:flex;"><span>    @@hydrogen_adder<span style="color:#f92672">.</span>addExplicitHydrogensToSatisfyValency mol
</span></span><span style="display:flex;"><span>    analyzer <span style="color:#f92672">=</span> <span style="color:#66d9ef">Rjb</span><span style="color:#f92672">::</span>import(<span style="color:#e6db74">&#39;org.openscience.cdk.tools.MFAnalyser&#39;</span>)<span style="color:#f92672">.</span>new(mol)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    analyzer<span style="color:#f92672">.</span>getMolecularFormula
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Save this code as a file named <code>formulator.rb</code> in your working directory.</p>
<h1 id="testing-the-library">Testing the Library</h1>
<p>The Formulator library can be tested with the following code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;formulator&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">include</span> <span style="color:#66d9ef">Formulator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>get_formula <span style="color:#e6db74">&#39;benzene&#39;</span> <span style="color:#75715e"># =&amp;gt; &#34;C6H6&#34;</span>
</span></span><span style="display:flex;"><span>get_formula <span style="color:#e6db74">&#39;4-(3,4-dichlorophenyl)-N-methyl-1,2,3,4-tetrahydronaphthalen-1-amine&#39;</span> <span style="color:#75715e"># =&amp;gt; &#34;C17H17NCl2&#34;</span>
</span></span></code></pre></div><h1 id="limitations">Limitations</h1>
<p>You may run across classes of structures that are not recognized by Ruby CDK. This is due to limitations of the underlying <a href="http://depth-first.com/articles/tag/opsin">OPSIN library</a>. For example, OPSIN does not yet recognize fused heterocycle names such as &lsquo;imidazo[2,1-b][1,3]thiazole&rsquo;.</p>
<h1 id="conclusions">Conclusions</h1>
<p>Ruby CDK makes short work of converting IUPAC names into molecular formulas. This is just one example of the kind of conversion that&rsquo;s possible. For example, <a href="http://depth-first.com/articles/2006/10/30/agile-chemical-informatics-development-with-cdk-and-ruby-rcdk-0-3-0">a recent article</a> discussed the conversion of IUPAC names to color 2-D structures.</p>
<p>Due to Ruby&rsquo;s position as both a highly functional scripting language and as the foundation for the popular Web application framework <a href="http://www.rubyonrails.org/">Ruby on Rails</a>, a variety of IUPAC nomenclature translation applications are just a few lines of code away.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
