<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>JRuby for Cheminformatics - Parsing SMILES Simply | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The previous article in this series outlined some reasons to consider JRuby for cheminformatics. Now I&rsquo;ll show how easy it is to get started by describing how to parse SMILES strings with the help of the Chemistry Development Kit (CDK).
What About Ruby CDK?
A number of Depth-First articles have discussed Ruby CDK. This library runs on top of C-Ruby, otherwise known as Matz&rsquo; Ruby Implementation (MRI). Ruby Java Bridge connects MRI to a Java Virtual Machine under Ruby CDK.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "Richard L. Apodaca">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2007/10/09/jruby-for-cheminformatics-parsing-smiles-simply/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2007/10/09/jruby-for-cheminformatics-parsing-smiles-simply/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="JRuby for Cheminformatics - Parsing SMILES Simply">
  <meta property="og:description" content="The previous article in this series outlined some reasons to consider JRuby for cheminformatics. Now I’ll show how easy it is to get started by describing how to parse SMILES strings with the help of the Chemistry Development Kit (CDK).
What About Ruby CDK? A number of Depth-First articles have discussed Ruby CDK. This library runs on top of C-Ruby, otherwise known as Matz’ Ruby Implementation (MRI). Ruby Java Bridge connects MRI to a Java Virtual Machine under Ruby CDK.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-10-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-10-09T00:00:00+00:00">

  <meta itemprop="name" content="JRuby for Cheminformatics - Parsing SMILES Simply">
  <meta itemprop="description" content="The previous article in this series outlined some reasons to consider JRuby for cheminformatics. Now I’ll show how easy it is to get started by describing how to parse SMILES strings with the help of the Chemistry Development Kit (CDK).
What About Ruby CDK? A number of Depth-First articles have discussed Ruby CDK. This library runs on top of C-Ruby, otherwise known as Matz’ Ruby Implementation (MRI). Ruby Java Bridge connects MRI to a Java Virtual Machine under Ruby CDK.">
  <meta itemprop="datePublished" content="2007-10-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-10-09T00:00:00+00:00">
  <meta itemprop="wordCount" content="471">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="JRuby for Cheminformatics - Parsing SMILES Simply">
  <meta name="twitter:description" content="The previous article in this series outlined some reasons to consider JRuby for cheminformatics. Now I’ll show how easy it is to get started by describing how to parse SMILES strings with the help of the Chemistry Development Kit (CDK).
What About Ruby CDK? A number of Depth-First articles have discussed Ruby CDK. This library runs on top of C-Ruby, otherwise known as Matz’ Ruby Implementation (MRI). Ruby Java Bridge connects MRI to a Java Virtual Machine under Ruby CDK.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">JRuby for Cheminformatics - Parsing SMILES Simply</h1>
      
      <p class="tracked">
        By <strong>Richard L. Apodaca</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-10-09T00:00:00Z">October 9, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>The previous article in this series outlined some <a href="/articles/2007/10/08/five-reasons-to-start-using-jruby-now">reasons to consider JRuby for cheminformatics</a>. Now I&rsquo;ll show how easy it is to get started by describing how to parse SMILES strings with the help of the <a href="http://cdk.sf.net">Chemistry Development Kit</a> (CDK).</p>
<h1 id="what-about-ruby-cdk">What About Ruby CDK?</h1>
<p>A number of Depth-First articles have discussed <a href="/articles/2007/10/04/ruby-cdk-for-newbies">Ruby CDK</a>. This library runs on top of C-Ruby, otherwise known as Matz&rsquo; Ruby Implementation (MRI). <a href="http://rjb.rubyforge.org/">Ruby Java Bridge</a> connects MRI to a Java Virtual Machine under Ruby CDK.</p>
<p>This article, and the others to follow, will instead discuss the use of the CDK and other Java libraries from JRuby. In contrast to MRI, JRuby is a pure Java implementation of the Ruby language. This approach offers some important advantages which will be highlighted along the way.</p>
<h1 id="installing-jruby">Installing JRuby</h1>
<p>JRuby is not difficult to install. On Linux, the steps are:</p>
<ol>
<li>Install <a href="http://java.sun.com">JDK Version 1.4 or higher</a>.</li>
<li>Download and unpack the most recent JRuby release - at the time of this writing, <a href="http://dist.codehaus.org/jruby">version 1.0.1</a>.</li>
<li>Add the JRuby <code>bin</code> directory to your path.</li>
<li>There is no Step 4. ;-)</li>
</ol>
<h1 id="installing-cdk-for-jruby">Installing CDK for JRuby</h1>
<p>Installing CDK so that it works on JRuby is similarly quite simple:</p>
<ol>
<li>Download the most recent CDK jarfile - at the time of this writing, <a href="http://downloads.sourceforge.net/cdk/cdk-1.0.1.jar?modtime=1182877138&amp;big_mirror=0">version 1.0.1</a>.</li>
<li>Move the CDK jarfile to your JRuby <code>lib</code> directory.</li>
</ol>
<h1 id="testing-cdk-for-jruby">Testing CDK for JRuby</h1>
<p>You can verify that your new CDK for JRuby installation works with <code>jirb</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jirb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;java&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; include_class <span style="color:#e6db74">&#39;org.openscience.cdk.smiles.SmilesParser&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;org.openscience.cdk.smiles.SmilesParser&#34;</span><span style="color:#f92672">]</span>
</span></span></code></pre></div><p>You should notice that <code>jirb</code> takes a few seconds to initialize the JVM, whereas <code>irb</code> starts almost instantly.</p>
<h1 id="a-library-to-read-smiles">A Library to Read SMILES</h1>
<p>We can write a short library to read SMILES strings using the CDK:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;java&#39;</span>
</span></span><span style="display:flex;"><span>include_class <span style="color:#e6db74">&#39;org.openscience.cdk.smiles.SmilesParser&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">module</span> Daylight
</span></span><span style="display:flex;"><span>  @@smiles_parser <span style="color:#f92672">=</span> <span style="color:#66d9ef">SmilesParser</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_smiles</span> smiles
</span></span><span style="display:flex;"><span>    @@smiles_parser<span style="color:#f92672">.</span>parse_smiles smiles
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Notice the use of the Rubyesque method name <code>parse_smiles</code> rather than <code>parseSmiles</code>. This is just one of the built-in conveniences offered by JRuby.</p>
<h1 id="testing-the-library">Testing the Library</h1>
<p>Saving the library as a file called <!-- raw HTML omitted -->daylight.rb<!-- raw HTML omitted --> lets us test it using interactive JRuby:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jirb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;daylight&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; include Daylight
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Object
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; mol <span style="color:#f92672">=</span> read_smiles <span style="color:#e6db74">&#39;c1ccccc1&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&lt;Java::OrgOpenscienceCdk:: [truncated] ...&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:004:0&gt; mol.atom_count
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><p>As you can see, the benzene SMILES has been parsed correctly. Again, notice the use of the Rubyesque method name <code>atom_count</code>, rather than the CDK Java bean convention method name <code>getAtomCount</code>. This feature makes it easy to ignore the fact you&rsquo;re using a Java library and get on with writing your Ruby code. Brilliant!</p>
<h1 id="conclusions">Conclusions</h1>
<p>This article has shown how to install JRuby and begin to write some simple cheminformatics programs with a distinctive Ruby flavor. Although the focus was on SMILES parsing, there&rsquo;s much more functionality to be found within the CDK and other cheminformatics libraries written in Java. Future articles will outline some of the possibilities.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
