<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Painless Installation of Ruby Open Babel | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Open Babel 2.1.0 has just been released. Among its new features is a Ruby interface containing most of the functionality of the C&#43;&#43; library. Installation is quick and easy, as shown in this article.
Prerequisites
In addition to a working build system, you&rsquo;ll need Ruby and the Ruby development libraries. Although any recent version should do, this tutorial was written with version 1.8.5.
Step 0: Compile and Install Open Babel
Given the right tools on your system, compiling and and installing Open Babel from source is trivial. This page gives instructions for doing so on Linux, Windows, and Mac OS X.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2007/04/09/painless-installation-of-ruby-open-babel/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2007/04/09/painless-installation-of-ruby-open-babel/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="Painless Installation of Ruby Open Babel">
  <meta property="og:description" content="Open Babel 2.1.0 has just been released. Among its new features is a Ruby interface containing most of the functionality of the C&#43;&#43; library. Installation is quick and easy, as shown in this article.
Prerequisites In addition to a working build system, you’ll need Ruby and the Ruby development libraries. Although any recent version should do, this tutorial was written with version 1.8.5.
Step 0: Compile and Install Open Babel Given the right tools on your system, compiling and and installing Open Babel from source is trivial. This page gives instructions for doing so on Linux, Windows, and Mac OS X.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-04-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-04-09T00:00:00+00:00">

  <meta itemprop="name" content="Painless Installation of Ruby Open Babel">
  <meta itemprop="description" content="Open Babel 2.1.0 has just been released. Among its new features is a Ruby interface containing most of the functionality of the C&#43;&#43; library. Installation is quick and easy, as shown in this article.
Prerequisites In addition to a working build system, you’ll need Ruby and the Ruby development libraries. Although any recent version should do, this tutorial was written with version 1.8.5.
Step 0: Compile and Install Open Babel Given the right tools on your system, compiling and and installing Open Babel from source is trivial. This page gives instructions for doing so on Linux, Windows, and Mac OS X.">
  <meta itemprop="datePublished" content="2007-04-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-04-09T00:00:00+00:00">
  <meta itemprop="wordCount" content="315">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Painless Installation of Ruby Open Babel">
  <meta name="twitter:description" content="Open Babel 2.1.0 has just been released. Among its new features is a Ruby interface containing most of the functionality of the C&#43;&#43; library. Installation is quick and easy, as shown in this article.
Prerequisites In addition to a working build system, you’ll need Ruby and the Ruby development libraries. Although any recent version should do, this tutorial was written with version 1.8.5.
Step 0: Compile and Install Open Babel Given the right tools on your system, compiling and and installing Open Babel from source is trivial. This page gives instructions for doing so on Linux, Windows, and Mac OS X.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Painless Installation of Ruby Open Babel</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-04-09T00:00:00Z">April 9, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p><a href="http://openbabel.sf.net">Open Babel</a> 2.1.0 has just been <a href="http://downloads.sourceforge.net/openbabel/openbabel-2.1.0.tar.gz?modtime=1175958364&amp;big_mirror=0">released</a>. Among its new features is a Ruby interface containing most of the functionality of the C++ library. Installation is quick and easy, as shown in this article.</p>
<h1 id="prerequisites">Prerequisites</h1>
<p>In addition to a working build system, you&rsquo;ll need <a href="http://www.ruby-lang.org/en/">Ruby</a> and the Ruby development libraries. Although any recent version should do, this tutorial was written with version 1.8.5.</p>
<h1 id="step-0-compile-and-install-open-babel">Step 0: Compile and Install Open Babel</h1>
<p>Given the right tools on your system, compiling and and installing Open Babel from source is trivial. <a href="http://openbabel.sourceforge.net/wiki/Get_Open_Babel">This page</a> gives instructions for doing so on Linux, Windows, and Mac OS X.</p>
<h1 id="step-1-create-the-wrappers-makefile">Step 1: Create the Wrapper&rsquo;s Makefile</h1>
<p>After unpacking, compiling, and installing Open Babel, change into the <strong>scripts/ruby</strong> directory of your source distribution. Next, run the <strong>extconf.rb</strong> script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ruby extconf.rb
</span></span><span style="display:flex;"><span>checking <span style="color:#66d9ef">for</span> main<span style="color:#f92672">()</span> in -lopenbabel... yes
</span></span><span style="display:flex;"><span>creating Makefile
</span></span></code></pre></div><p>As you&rsquo;ve probably guessed, the purpose of this script is to generate a Makefile specific to your platform. This script uses the standard Ruby library <a href="http://www.ruby-doc.org/stdlib/libdoc/mkmf/rdoc/index.html">mkmf</a>.</p>
<h1 id="step-2-compile-the-wrapper">Step 2: Compile the Wrapper</h1>
<p>After creating a Makefile, we&rsquo;re ready to compile the C++ Ruby wrapper, contained in <strong>openbabel_ruby.cpp</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>g++ -I. -I. -I/usr/lib/ruby/1.8/x86_64-linux-gnu -I. -I../../include  -fPIC -O2 -g -pipe -Wp,-D_FORTIFY_SOURCE<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> -fexceptions -Wall  -fPIC   -c openbabel_ruby.cpp
</span></span></code></pre></div><p>This output will be followed by other lines as the compiler builds the wrapper library.</p>
<h1 id="step-3-install-the-wrapper">Step 3: Install the Wrapper</h1>
<p>After compiling the wrapper, we&rsquo;re ready to install it. You can probably guess that the next command will be (as root):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>make install
</span></span><span style="display:flex;"><span>/usr/bin/install -c -m <span style="color:#ae81ff">0755</span> openbabel.so /usr/lib/ruby/site_ruby/1.8/x86_64-linux-gnu
</span></span></code></pre></div><p>Your install directory is chosen by Ruby to be appropriate for your platform and Ruby version.</p>
<h1 id="hello-benzene">Hello, Benzene!</h1>
<p>Congratulations, you&rsquo;ve installed Ruby Open Babel! You can verify that your new library works with interactive Ruby (irb):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>irb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;openbabel&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; c<span style="color:#f92672">=</span>OpenBabel::OBConversion.new
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;OpenBabel::OBConversion:0x2acedbadd020&amp;gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; c.set_in_format <span style="color:#e6db74">&#39;smi&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:004:0&gt; benzene<span style="color:#f92672">=</span>OpenBabel::OBMol.new
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;OpenBabel::OBMol:0x2acedbacfa10&amp;gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:005:0&gt; c.read_string benzene, <span style="color:#e6db74">&#39;c1ccccc1&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:006:0&gt; benzene.num_atoms
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
