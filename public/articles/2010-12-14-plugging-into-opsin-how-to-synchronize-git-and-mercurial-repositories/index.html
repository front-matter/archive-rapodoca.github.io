<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Plugging Into OPSIN - How to Synchronize Git and Mercurial Repositories | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="A previous post discussed OPSIN, the open source IUPAC nomenclature parser, and some of its recent improvements. OPSIN is an open source project, meaning when the software fails to solve a particular problem, changes can be made on the spot and distributed to the community. If you agree that an open, free tool for parsing arbitrary IUPAC names is good for chemistry and you personally, your next question might be &lsquo;how do I get started&rsquo;? In this article, I&rsquo;ll answer that question by showing one way to synchronize your own changes with OPSIN&rsquo;s public source code repository.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "Richard L. Apodaca">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="https://depth-first.com:1313/articles/2010-12-14-plugging-into-opsin-how-to-synchronize-git-and-mercurial-repositories/">
    

    <meta property="og:url" content="https://depth-first.com:1313/articles/2010-12-14-plugging-into-opsin-how-to-synchronize-git-and-mercurial-repositories/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="Plugging Into OPSIN - How to Synchronize Git and Mercurial Repositories">
  <meta property="og:description" content="A previous post discussed OPSIN, the open source IUPAC nomenclature parser, and some of its recent improvements. OPSIN is an open source project, meaning when the software fails to solve a particular problem, changes can be made on the spot and distributed to the community. If you agree that an open, free tool for parsing arbitrary IUPAC names is good for chemistry and you personally, your next question might be ‘how do I get started’? In this article, I’ll answer that question by showing one way to synchronize your own changes with OPSIN’s public source code repository.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2010-12-14T00:00:00+00:00">
    <meta property="article:modified_time" content="2010-12-14T00:00:00+00:00">

  <meta itemprop="name" content="Plugging Into OPSIN - How to Synchronize Git and Mercurial Repositories">
  <meta itemprop="description" content="A previous post discussed OPSIN, the open source IUPAC nomenclature parser, and some of its recent improvements. OPSIN is an open source project, meaning when the software fails to solve a particular problem, changes can be made on the spot and distributed to the community. If you agree that an open, free tool for parsing arbitrary IUPAC names is good for chemistry and you personally, your next question might be ‘how do I get started’? In this article, I’ll answer that question by showing one way to synchronize your own changes with OPSIN’s public source code repository.">
  <meta itemprop="datePublished" content="2010-12-14T00:00:00+00:00">
  <meta itemprop="dateModified" content="2010-12-14T00:00:00+00:00">
  <meta itemprop="wordCount" content="809">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Plugging Into OPSIN - How to Synchronize Git and Mercurial Repositories">
  <meta name="twitter:description" content="A previous post discussed OPSIN, the open source IUPAC nomenclature parser, and some of its recent improvements. OPSIN is an open source project, meaning when the software fails to solve a particular problem, changes can be made on the spot and distributed to the community. If you agree that an open, free tool for parsing arbitrary IUPAC names is good for chemistry and you personally, your next question might be ‘how do I get started’? In this article, I’ll answer that question by showing one way to synchronize your own changes with OPSIN’s public source code repository.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Plugging Into OPSIN - How to Synchronize Git and Mercurial Repositories</h1>
      
      <p class="tracked">
        By <strong>Richard L. Apodaca</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2010-12-14T00:00:00Z">December 14, 2010</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>A previous post <a href="/articles/2010/12/13/open-source-name-to-structure-conversion-of-iupac-nomenclature-opsin-revisited/">discussed OPSIN</a>, the open source IUPAC nomenclature parser, and some of its recent improvements. OPSIN is an open source project, meaning when the software fails to solve a particular problem, changes can be made on the spot and distributed to the community. If you agree that an open, free tool for parsing arbitrary IUPAC names is good for chemistry and you personally, your next question might be &lsquo;how do I get started&rsquo;? In this article, I&rsquo;ll answer that question by showing one way to synchronize your own changes with OPSIN&rsquo;s public source code repository.</p>
<h1 id="the-mercurial-dilemma">The Mercurial Dilemma</h1>
<p>OPSIN&rsquo;s most recent updates are being shared through <a href="http://bitbucket.org/dan2097/opsin">Bitbucket</a>, a Web-based source code repository that uses <a href="http://mercurial.selenic.com/">Mercurial</a>. <a href="http://bitbucket.org/dan2097">Daniel Lowe</a> is its maintainer. Mercurial is a distributed <a href="http://en.wikipedia.org/wiki/Revision_control">version control</a> system that enables loosely-connected developer teams to work together efficiently.</p>
<p>Mercurial has many things in common with <a href="http://git-scm.com/">Git</a>, the version control system that I prefer and have <a href="/articles/2008/11/25/goodbye-subversion-hello-git-and-github/">used for some time</a>. Unfortunately, Mercurial isn&rsquo;t something I want to take the time and effort to learn and use regularly, especially since it&rsquo;s so similar to Git.</p>
<p>We want a way to tweak the OPSIN source locally, push our finished changes out to the OPSIN project for merging, and pull in the latest changes from the OPSIN project so that we can take advantage of the most recent features and bugfixes.</p>
<p>How can a Git user push and pull changes to and from the OPSIN Mercurial repository? Read the next section to get the nitty-gritty, or skip down to see the easy way.</p>
<h1 id="hg-git">Hg-Git</h1>
<p><a href="http://hg-git.github.com/">Hg-Git</a> is a tool the bridges the gap. From the documentation:</p>
<p><a href="http://hg-git.github.com/"><img src="/images/posts/hg-git.png" alt="hg-git" title="hg-git"></a></p>
<blockquote>
<p>This is the Hg-Git plugin for Mercurial, adding the ability to push to and pull from a Git server repository from Mercurial. This means you can collaborate on Git based projects from Mercurial, or use a Git server as a collaboration point for a team with developers using both Git and Mercurial.</p>
</blockquote>
<p>Getting Mercurial and Hg-Git up and running on my Snow Leopard system was not trivial. The trick was to <a href="http://stackoverflow.com/questions/1461374/installing-mercurial-on-mac-os-x-10-6-snow-leopard">install Mercurial from source </a> and then <a href="http://stackoverflow.com/questions/2360944/how-do-i-correctly-install-dulwich-to-get-hg-git-working-on-windows/2733516#2733516">manually install Hg-Git</a>.</p>
<p>With these prerequisites out of the way, I needed to set up two public forks to host OPSIN code. The first is <a href="http://github.com/metamolecular/opsin">Metamolecular&rsquo;s OPSIN fork on GitHub</a>, running Git. The second is <a href="http://bitbucket.org/metamolecular/opsin/">Metamolecular&rsquo;s OPSIN fork on Bitbucket</a> running Mercurial. OPSIN developers can pull changes from our Bitbucket repository directly using Mercurial, and we can work exclusively with Git.</p>
<p>That&rsquo;s it for the public-facing side. Now, on to how this coordination works behind the scenes. We need a local hybrid Git/Mercurial repository (&lsquo;opsin-hg&rsquo;) that can push/pull changes to/from either Git or Mercurial remote repositories. From <a href="http://hg-git.github.com/">the documentation</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hg clone https://metamolecular@bitbucket.org/dan2097/opsin
</span></span><span style="display:flex;"><span>mv opsin opsin-hg
</span></span><span style="display:flex;"><span>cd opsin-hg
</span></span><span style="display:flex;"><span>hg bookmark -r
</span></span></code></pre></div><p>Now we push the contents of opsin-hg to our public <a href="http://github.com/metamolecular/opsin">OSPIN GitHub</a> and <a href="http://bitbucket.org/metamolecular/opsin/">OPSIN Bitbucket</a> repos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hg push git+ssh://git@github.com/metamolecular/opsin.git
</span></span><span style="display:flex;"><span>hg push ssh://hg@bitbucket.org/metamolecular/opsin
</span></span></code></pre></div><p>At this point, we have two exact copies of the OPSIN code, one on GitHub and one on Bitbucket.</p>
<p>If our Github repo accumulates changes we want to push to bitbucket, we can do so with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd opsin-hg
</span></span><span style="display:flex;"><span>hg pull git+ssh://git@github.com/metamolecular/opsin.git
</span></span><span style="display:flex;"><span>hg update
</span></span><span style="display:flex;"><span>hg push ssh://hg@bitbucket.org/metamolecular/opsin
</span></span></code></pre></div><p>You may be thinking that we can use the opsin-hg repo directly using Git commands, but we can&rsquo;t, as far as I know. opsin-hg simply knows how to work with remote Hg and Git repos. We can&rsquo;t issue git commands to opsin-hg because it&rsquo;s not actually a Git repo. We need to create one.</p>
<h1 id="using-the-metamolecular-opsin-github-fork">Using the Metamolecular OPSIN GitHub Fork</h1>
<p>We&rsquo;ve created an exact <a href="http://github.com/metamolecular/opsin">copy of the OPSIN Bitbucket repository hosted on GitHub</a> that uses Git and which contains the <a href="https://github.com/metamolecular/opsin/commits/master">entire commit history for the OPSIN project</a>, in addition to changes made by us. Using it is now as simple as creating a local fork:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone git://github.com/metamolecular/opsin.git
</span></span><span style="display:flex;"><span>cd opsin
</span></span></code></pre></div><p>You can now branch, edit, tag, and merge just like you would with any other Git repository. If you want to spare yourself the trouble of maintaining a Bitbucket account and learning Hg, you can send a pull request for your own GitHub OPSIN fork or another public Git repository. We&rsquo;ll merge the changes for you and pass them on to our Bitbucket repository. The OPSIN team can then merge those changes.</p>
<p>Likewise, as updates are merged into OPSIN from other sources, we&rsquo;ll pull those changes and push them out to our GitHub repo.</p>
<h1 id="conclusions">Conclusions</h1>
<p>Free, effective parsing of IUPAC nomenclature is a fundamental enabler of chemistry&rsquo;s digital future, and OPSIN is the only software capable of filling this need. As such, OPSIN lends itself very well to an open, distributed development model in which a number of individuals and organizations contribute. This article has shown one way to put this idea into practice.</p>
<p>Future articles will show how to get started using the OPSIN source, and the changes we&rsquo;re making to it.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://depth-first.com:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
