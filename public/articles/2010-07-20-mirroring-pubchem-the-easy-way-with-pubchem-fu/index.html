<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Mirroring PubChem the Easy Way with PubChem Fu | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="If you want to work with the PubChem dataset, two of your biggest problems will likely be creating a local working copy and keeping it synchronized. Although a few articles on doing just this have appeared here on Depth-First, the information is a bit scattered. Also, some time and effort is required in getting a robust mirroring system in place and working as expected. Enter PubChem Fu, a simple tool designed to help you maintain a complete, up-to-date copy of the PubChem dataset.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2010-07-20-mirroring-pubchem-the-easy-way-with-pubchem-fu/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2010-07-20-mirroring-pubchem-the-easy-way-with-pubchem-fu/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="Mirroring PubChem the Easy Way with PubChem Fu">
  <meta property="og:description" content="If you want to work with the PubChem dataset, two of your biggest problems will likely be creating a local working copy and keeping it synchronized. Although a few articles on doing just this have appeared here on Depth-First, the information is a bit scattered. Also, some time and effort is required in getting a robust mirroring system in place and working as expected. Enter PubChem Fu, a simple tool designed to help you maintain a complete, up-to-date copy of the PubChem dataset.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2010-07-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2010-07-20T00:00:00+00:00">

  <meta itemprop="name" content="Mirroring PubChem the Easy Way with PubChem Fu">
  <meta itemprop="description" content="If you want to work with the PubChem dataset, two of your biggest problems will likely be creating a local working copy and keeping it synchronized. Although a few articles on doing just this have appeared here on Depth-First, the information is a bit scattered. Also, some time and effort is required in getting a robust mirroring system in place and working as expected. Enter PubChem Fu, a simple tool designed to help you maintain a complete, up-to-date copy of the PubChem dataset.">
  <meta itemprop="datePublished" content="2010-07-20T00:00:00+00:00">
  <meta itemprop="dateModified" content="2010-07-20T00:00:00+00:00">
  <meta itemprop="wordCount" content="346">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Mirroring PubChem the Easy Way with PubChem Fu">
  <meta name="twitter:description" content="If you want to work with the PubChem dataset, two of your biggest problems will likely be creating a local working copy and keeping it synchronized. Although a few articles on doing just this have appeared here on Depth-First, the information is a bit scattered. Also, some time and effort is required in getting a robust mirroring system in place and working as expected. Enter PubChem Fu, a simple tool designed to help you maintain a complete, up-to-date copy of the PubChem dataset.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Mirroring PubChem the Easy Way with PubChem Fu</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2010-07-20T00:00:00Z">July 20, 2010</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>If you want to work with the <a href="http://depth-first.com/articles/2006/09/29/hacking-pubchem-direct-access-with-ftp">PubChem dataset</a>, two of your biggest problems will likely be creating a local working copy and keeping it synchronized. Although a few articles on doing just this have appeared here on Depth-First, the information is a bit scattered. Also, some time and effort is required in getting a robust mirroring system in place and working as expected. Enter <a href="http://github.com/metamolecular/pubchem-fu">PubChem Fu</a>, a simple tool designed to help you maintain a complete, up-to-date copy of the PubChem dataset.</p>
<h1 id="previous-articles-in-this-series">Previous Articles in this Series:</h1>
<ul>
<li><a href="http://depth-first.com/articles/2010/03/01/big-data-in-chemistry-incrementally-mirror-pubchem-the-easy-way">Big Data in Chemistry: Incrementally Mirror PubChem the Easy Way</a></li>
<li><a href="http://depth-first.com/articles/2010/02/09/big-data-in-chemistry-mirroring-pubchem-the-easy-way-part-2">Big Data in Chemistry: Mirroring PubChem the Easy Way Part 2</a></li>
<li><a href="http://depth-first.com/articles/2010/02/08/big-data-in-chemistry-mirroring-pubchem-the-easy-way">Big Data in Chemistry: Mirroring PubChem the Easy Way</a></li>
</ul>
<h1 id="what-it-does">What it Does</h1>
<p>PubChem Fu lets you create and automatically update a local working copy of all PubChem Compound and Substance data.</p>
<p>This tool uses Ruby and a clever little Ruby utility called <a href="http://github.com/javan/whenever">Whenever</a> to configure cron for you. Simply give it a time to pull daily updates at, and you can always have access to the complete, latest PubChem dataset.</p>
<h1 id="usage">Usage</h1>
<p>Create a full copy of PubChem (in the same directory as PubChem Fu):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>rake full
</span></span></code></pre></div><p>Pull available daily updates (in the same directory as PubChem Fu):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>rake daily
</span></span></code></pre></div><p>Automate pulling daily updates:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>whenever --update-crontab pubchem
</span></span></code></pre></div><p>Make sure your cron task is set:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>crontab -l
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Begin Whenever generated tasks for: pubchem</span>
</span></span><span style="display:flex;"><span>PATH<span style="color:#f92672">=</span> ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">15</span> <span style="color:#ae81ff">14</span> * * * cd ~/local/pubchem <span style="color:#f92672">&amp;&amp;</span> RAILS_ENV<span style="color:#f92672">=</span>production /usr/bin/env rake daily
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># End Whenever generated tasks for: pubchem</span>
</span></span></code></pre></div><p>That part about <!-- raw HTML omitted -->RAILS_ENV<!-- raw HTML omitted --> is a by-product of Whenever being mainly used in a <a href="http://rubyonrails.org/">Ruby on Rails</a> environment. I&rsquo;m sure there&rsquo;s a way to block that output if needed. If you know, please <a href="http://depth-first.com/pages/richard-l-apodaca">drop me a line</a>.</p>
<h1 id="more-information">More Information</h1>
<p>PubChem Fu is a simple utility built on a powerful foundation. For more information, see this <a href="http://media.railscasts.com/videos/164_cron_in_ruby.mov">video on automating cron with Ruby</a>.</p>
<p>PubChem&rsquo;s large size presents many challenges, some of which may have solutions that could be included with PubChem Fu, and some of which could be applied to other large datasets. Stay tuned.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
