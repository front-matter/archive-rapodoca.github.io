<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Hacking JSpecView - Creating an HTML Test Harness | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The previous article in this series discussed the construction of an Ant build environment for JSpecView. This article will show how to use Ant to build an HTML harness to test the resulting Applet and jarfile.
Availability of Source Code
Robert Lancashire, the lead JSpecView developer, has kindly agreed to host the complete source code for this series of tutorials on the JSpecView SourceForge project page.
Overview
Our goal for this session is to create an Ant task that will assemble a directory of HTML pages for testing the JSpecView applet. To do this, we&rsquo;ll add a new demo task and some supporting files.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2008-01-28-hacking-jspecview-creating-an-html-test-harness/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2008-01-28-hacking-jspecview-creating-an-html-test-harness/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="Hacking JSpecView - Creating an HTML Test Harness">
  <meta property="og:description" content="The previous article in this series discussed the construction of an Ant build environment for JSpecView. This article will show how to use Ant to build an HTML harness to test the resulting Applet and jarfile.
Availability of Source Code Robert Lancashire, the lead JSpecView developer, has kindly agreed to host the complete source code for this series of tutorials on the JSpecView SourceForge project page.
Overview Our goal for this session is to create an Ant task that will assemble a directory of HTML pages for testing the JSpecView applet. To do this, we’ll add a new demo task and some supporting files.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2008-01-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2008-01-28T00:00:00+00:00">

  <meta itemprop="name" content="Hacking JSpecView - Creating an HTML Test Harness">
  <meta itemprop="description" content="The previous article in this series discussed the construction of an Ant build environment for JSpecView. This article will show how to use Ant to build an HTML harness to test the resulting Applet and jarfile.
Availability of Source Code Robert Lancashire, the lead JSpecView developer, has kindly agreed to host the complete source code for this series of tutorials on the JSpecView SourceForge project page.
Overview Our goal for this session is to create an Ant task that will assemble a directory of HTML pages for testing the JSpecView applet. To do this, we’ll add a new demo task and some supporting files.">
  <meta itemprop="datePublished" content="2008-01-28T00:00:00+00:00">
  <meta itemprop="dateModified" content="2008-01-28T00:00:00+00:00">
  <meta itemprop="wordCount" content="412">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Hacking JSpecView - Creating an HTML Test Harness">
  <meta name="twitter:description" content="The previous article in this series discussed the construction of an Ant build environment for JSpecView. This article will show how to use Ant to build an HTML harness to test the resulting Applet and jarfile.
Availability of Source Code Robert Lancashire, the lead JSpecView developer, has kindly agreed to host the complete source code for this series of tutorials on the JSpecView SourceForge project page.
Overview Our goal for this session is to create an Ant task that will assemble a directory of HTML pages for testing the JSpecView applet. To do this, we’ll add a new demo task and some supporting files.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Hacking JSpecView - Creating an HTML Test Harness</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2008-01-28T00:00:00Z">January 28, 2008</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>The <a href="/articles/2008/01/23/hacking-jspecview-getting-organized-with-ant">previous article in this series</a> discussed the construction of an Ant build environment for <a href="http://jspecview.sourceforge.net/">JSpecView</a>. This article will show how to use Ant to build an HTML harness to test the resulting Applet and jarfile.</p>
<h1 id="availability-of-source-code">Availability of Source Code</h1>
<p>Robert Lancashire, the lead JSpecView developer, has kindly agreed to host the complete source code for this series of tutorials on the <a href="http://sourceforge.net/project/showfiles.php?group_id=161398&amp;package_id=260592">JSpecView SourceForge project page</a>.</p>
<h1 id="overview">Overview</h1>
<p>Our goal for this session is to create an Ant task that will assemble a directory of HTML pages for testing the JSpecView applet. To do this, we&rsquo;ll add a new <code>demo</code> task and some supporting files.</p>
<h1 id="editing-the-buildxml-file">Editing the build.xml File</h1>
<p>The main change we&rsquo;ll make is to add the <code>demo</code> task itself:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;demo&#34;</span> <span style="color:#a6e22e">depends=</span><span style="color:#e6db74">&#34;jar&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;mkdir</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${demo}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;copy</span> <span style="color:#a6e22e">todir=</span><span style="color:#e6db74">&#34;${demo}&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;fileset</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${resources-html}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/copy&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;copy</span> <span style="color:#a6e22e">file=</span><span style="color:#e6db74">&#34;${build-lib}/${unix-name}-${version}.jar&#34;</span> <span style="color:#a6e22e">tofile=</span><span style="color:#e6db74">&#34;${demo}/lib/${unix-name}.jar&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/target&gt;</span>
</span></span></code></pre></div><p>This task creates a <!-- raw HTML omitted -->demo<!-- raw HTML omitted --> directory and copies into it the contents of a new <!-- raw HTML omitted -->resources/html<!-- raw HTML omitted --> directory, along with the jarfile built with the <code>jar</code> task.</p>
<p>Other changes to the <!-- raw HTML omitted -->build.xml<!-- raw HTML omitted --> file are necessary. In the interest of brevity, they have been omitted. Those interested should <!-- raw HTML omitted -->download the source package<!-- raw HTML omitted --> to be available shortly.</p>
<h1 id="creating-the-strongresourcesstrong-directory">Creating the <!-- raw HTML omitted -->resources<!-- raw HTML omitted --> Directory</h1>
<p>Think of the <!-- raw HTML omitted -->resources<!-- raw HTML omitted --> directory as a place to hold non-Java files that will get used by our Ant tasks. Our first addition to this directory will be a directory called <!-- raw HTML omitted -->html<!-- raw HTML omitted -->. Here, we&rsquo;ll create a new directory called <!-- raw HTML omitted -->demo1<!-- raw HTML omitted -->. It will contain an HTML document with an embedded JSpecView applet (<!-- raw HTML omitted -->index.html<!-- raw HTML omitted -->), along with a JCAMP-DX file (<!-- raw HTML omitted -->netanilineH.jdx<!-- raw HTML omitted -->) and the excellent <!-- raw HTML omitted -->JActivating<!-- raw HTML omitted --> JavaScript tool.</p>
<h1 id="using-the-demo-task">Using the <code>demo</code> Task</h1>
<p>We can run our new <code>demo</code> task just like the others:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ant demo
</span></span><span style="display:flex;"><span>Buildfile: build.xml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>init:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">[</span>mkdir<span style="color:#f92672">]</span> Created dir: /home/rich/devel/proj/jspecview/build
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">[</span>mkdir<span style="color:#f92672">]</span> Created dir: /home/rich/devel/proj/jspecview/build/classes
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">[</span>mkdir<span style="color:#f92672">]</span> Created dir: /home/rich/devel/proj/jspecview/build/lib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>compile:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">[</span>javac<span style="color:#f92672">]</span> Compiling <span style="color:#ae81ff">48</span> source files to /home/rich/devel/proj/jspecview/build/classes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>jar:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">[</span>jar<span style="color:#f92672">]</span> Building jar: /home/rich/devel/proj/jspecview/build/lib/jspecview-20080128.jar
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>demo:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">[</span>mkdir<span style="color:#f92672">]</span> Created dir: /home/rich/devel/proj/jspecview/demo
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">[</span>copy<span style="color:#f92672">]</span> Copying <span style="color:#ae81ff">3</span> files to /home/rich/devel/proj/jspecview/demo
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">[</span>copy<span style="color:#f92672">]</span> Copying <span style="color:#ae81ff">1</span> file to /home/rich/devel/proj/jspecview/demo/lib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>BUILD SUCCESSFUL
</span></span><span style="display:flex;"><span>Total time: <span style="color:#ae81ff">3</span> seconds
</span></span></code></pre></div><p>If all went well, you should see a new <strong>demo</strong> directory with the following structure:</p>
<p><img src="/images/posts/20080128/screen.png" alt="Screen" title="Screen"></p>
<h1 id="viewing-the-result">Viewing the Result</h1>
<p>You can view the result online <a href="/images/posts/20080128/demo/demo1/index.html">here</a>. The applet loads and displays the JCAMP-DX file <code>[netanilineH.jdx](/images/posts/20080128/demo/demo1/netanilineH.jdx)</code>. Notice that the spectrum is interactive; zoom and display properties can be set by right-clicking in the applet Window.</p>
<h1 id="conclusions">Conclusions</h1>
<p>This tutorial has show how to build a simple HTML test harness for JSpecView. With this important step complete, we can begin to customize JSpecView itself. Future tutorials will show how.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
