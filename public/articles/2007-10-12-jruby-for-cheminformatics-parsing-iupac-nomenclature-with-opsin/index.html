<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>JRuby for Cheminformatics - Parsing IUPAC Nomenclature with OPSIN | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Recent articles have discussed the use of JRuby for cheminformatics. We&rsquo;ve seen how to parse SMILES strings, and read or write InChIs. In this article, we&rsquo;ll see how easy it is to parse IUPAC nomenclature from JRuby using Peter Corbett&rsquo;s OPSIN library.
Installation
After installing JRuby, simply download the OPSIN jarfile and copy it to your JRuby lib directory. You&rsquo;re done.
A Simple Library
We can write a simple library to convert an IUPAC name into a CML document:">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2007-10-12-jruby-for-cheminformatics-parsing-iupac-nomenclature-with-opsin/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2007-10-12-jruby-for-cheminformatics-parsing-iupac-nomenclature-with-opsin/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="JRuby for Cheminformatics - Parsing IUPAC Nomenclature with OPSIN">
  <meta property="og:description" content="Recent articles have discussed the use of JRuby for cheminformatics. We’ve seen how to parse SMILES strings, and read or write InChIs. In this article, we’ll see how easy it is to parse IUPAC nomenclature from JRuby using Peter Corbett’s OPSIN library.
Installation After installing JRuby, simply download the OPSIN jarfile and copy it to your JRuby lib directory. You’re done.
A Simple Library We can write a simple library to convert an IUPAC name into a CML document:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2007-10-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2007-10-12T00:00:00+00:00">

  <meta itemprop="name" content="JRuby for Cheminformatics - Parsing IUPAC Nomenclature with OPSIN">
  <meta itemprop="description" content="Recent articles have discussed the use of JRuby for cheminformatics. We’ve seen how to parse SMILES strings, and read or write InChIs. In this article, we’ll see how easy it is to parse IUPAC nomenclature from JRuby using Peter Corbett’s OPSIN library.
Installation After installing JRuby, simply download the OPSIN jarfile and copy it to your JRuby lib directory. You’re done.
A Simple Library We can write a simple library to convert an IUPAC name into a CML document:">
  <meta itemprop="datePublished" content="2007-10-12T00:00:00+00:00">
  <meta itemprop="dateModified" content="2007-10-12T00:00:00+00:00">
  <meta itemprop="wordCount" content="431">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="JRuby for Cheminformatics - Parsing IUPAC Nomenclature with OPSIN">
  <meta name="twitter:description" content="Recent articles have discussed the use of JRuby for cheminformatics. We’ve seen how to parse SMILES strings, and read or write InChIs. In this article, we’ll see how easy it is to parse IUPAC nomenclature from JRuby using Peter Corbett’s OPSIN library.
Installation After installing JRuby, simply download the OPSIN jarfile and copy it to your JRuby lib directory. You’re done.
A Simple Library We can write a simple library to convert an IUPAC name into a CML document:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">JRuby for Cheminformatics - Parsing IUPAC Nomenclature with OPSIN</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2007-10-12T00:00:00Z">October 12, 2007</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Recent articles have discussed the use of <a href="/articles/tag/rubidium">JRuby for cheminformatics</a>. We&rsquo;ve seen how to <a href="/articles/2007/10/09/jruby-for-cheminformatics-parsing-smiles-simply">parse SMILES strings</a>, and <a href="/articles/2007/10/10/jruby-for-cheminformatics-reading-and-writing-inchis-via-the-java-native-interface">read or write InChIs</a>. In this article, we&rsquo;ll see how easy it is to parse IUPAC nomenclature from JRuby using Peter Corbett&rsquo;s <a href="/articles/2006/10/14/decoding-iupac-names-with-opsin">OPSIN library</a>.</p>
<h1 id="installation">Installation</h1>
<p>After <a href="/articles/2007/10/09/jruby-for-cheminformatics-parsing-smiles-simply">installing JRuby</a>, simply <a href="http://prdownloads.sourceforge.net/oscar3-chem/opsin-big-0.1.0.jar?download">download the OPSIN jarfile</a> and copy it to your JRuby <code>lib</code> directory. You&rsquo;re done.</p>
<h1 id="a-simple-library">A Simple Library</h1>
<p>We can write a simple library to convert an IUPAC name into a CML document:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;jruby&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>import <span style="color:#e6db74">&#39;uk.ac.cam.ch.wwmm.opsin.NameToStructure&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">module</span> IUPAC
</span></span><span style="display:flex;"><span>  @@nts <span style="color:#f92672">=</span> <span style="color:#66d9ef">NameToStructure</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_name</span> name
</span></span><span style="display:flex;"><span>    cml <span style="color:#f92672">=</span> @@nts<span style="color:#f92672">.</span>parse_to_cml(name)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#e6db74">&#34;Could not parse &#39;</span><span style="color:#e6db74">#{</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;.&#34;</span> <span style="color:#66d9ef">unless</span> cml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cml<span style="color:#f92672">.</span>to_xml
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>The <code>read_name</code> method accepts an iupac name as a string and returns a CML document as a string. If the input can&rsquo;t be parsed, an exception is raised.</p>
<h1 id="testing-the-library">Testing the Library</h1>
<p>We can test the library by saving it as a file called <!-- raw HTML omitted -->iupac.rb<!-- raw HTML omitted --> and invoking <code>jirb</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ jirb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;iupac&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; include IUPAC
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Object
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; read_name<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;4-iodobenzoic acid&#39;</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>This returns the XML shown below, which has been re-formatted for clarity:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;cml</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.xml-cml.org/schema&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;molecule</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;m1&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;atomArray&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a1&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a2&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a3&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a4&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;4&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a5&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;5&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a6&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;6&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a7&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;C&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a8&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;O&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a9&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;O&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;atom</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;a10&#34;</span> <span style="color:#a6e22e">elementType=</span><span style="color:#e6db74">&#34;I&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;label</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/atom&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/atomArray&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;bondArray&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a1 a2&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a2 a3&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a3 a4&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a4 a5&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a5 a6&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a6 a1&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a7 a1&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a7 a8&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a7 a9&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;bond</span> <span style="color:#a6e22e">atomRefs2=</span><span style="color:#e6db74">&#34;a10 a4&#34;</span> <span style="color:#a6e22e">order=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/bondArray&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/molecule&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/cml&gt;</span>
</span></span></code></pre></div><p>This simple Ruby library has parsed the name &lsquo;4-iodobenzoic acid&rsquo; and has returned a string containing the CML representation for the molecule. If we had wanted the <code>read_name</code> method to return a traversable XML object model, we could have enabled that as well.</p>
<h1 id="conclusions">Conclusions</h1>
<p>One of the objections raised whenever the issue of &ldquo;new&rdquo; programming languages comes up, regardless of their merit, is the age-old refrain &ldquo;Yeah, but where&rsquo;s the software?&rdquo; With JRuby, we bypass this question altogether. We can leverage the full scope of the massive Java development effort over the last ten years, which includes several excellent cheminformatics libraries. With virtually no effort, we have a working cheminformatics platform based on a widely-used, versatile and dynamic object-oriented scripting language. Future articles will discuss extensions to this platform and some applications.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
