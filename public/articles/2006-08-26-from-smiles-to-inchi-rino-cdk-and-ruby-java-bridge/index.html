<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>From SMILES to InChI: Rino, CDK, and Ruby Java Bridge | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Integrating Ruby and Java is fast and easy with Ruby Java Bridge (RJB), which was discussed previously. In this article, I&rsquo;ll show how RJB can be used to solve a practical chemical informatics problem - the conversion of SMILES strings into InChI identifiers.
Prerequisites
This tutorial is aimed at Linux users, but you should be able to accomplish the same thing in Windows and Mac OS X, although these systems have not been tested. You&rsquo;ll need to install a few software packages if you haven&rsquo;t done so already: Ruby; Ruby Gems; RJB; CDK; and Rino. After installing RubyGems, RJB and Rino can both be installed from the command line (as root):">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "Richard L. Apodaca">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="https://depth-first.com:1313/articles/2006-08-26-from-smiles-to-inchi-rino-cdk-and-ruby-java-bridge/">
    

    <meta property="og:url" content="https://depth-first.com:1313/articles/2006-08-26-from-smiles-to-inchi-rino-cdk-and-ruby-java-bridge/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="From SMILES to InChI: Rino, CDK, and Ruby Java Bridge">
  <meta property="og:description" content="Integrating Ruby and Java is fast and easy with Ruby Java Bridge (RJB), which was discussed previously. In this article, I’ll show how RJB can be used to solve a practical chemical informatics problem - the conversion of SMILES strings into InChI identifiers.
Prerequisites This tutorial is aimed at Linux users, but you should be able to accomplish the same thing in Windows and Mac OS X, although these systems have not been tested. You’ll need to install a few software packages if you haven’t done so already: Ruby; Ruby Gems; RJB; CDK; and Rino. After installing RubyGems, RJB and Rino can both be installed from the command line (as root):">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2006-08-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2006-08-26T00:00:00+00:00">

  <meta itemprop="name" content="From SMILES to InChI: Rino, CDK, and Ruby Java Bridge">
  <meta itemprop="description" content="Integrating Ruby and Java is fast and easy with Ruby Java Bridge (RJB), which was discussed previously. In this article, I’ll show how RJB can be used to solve a practical chemical informatics problem - the conversion of SMILES strings into InChI identifiers.
Prerequisites This tutorial is aimed at Linux users, but you should be able to accomplish the same thing in Windows and Mac OS X, although these systems have not been tested. You’ll need to install a few software packages if you haven’t done so already: Ruby; Ruby Gems; RJB; CDK; and Rino. After installing RubyGems, RJB and Rino can both be installed from the command line (as root):">
  <meta itemprop="datePublished" content="2006-08-26T00:00:00+00:00">
  <meta itemprop="dateModified" content="2006-08-26T00:00:00+00:00">
  <meta itemprop="wordCount" content="472">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="From SMILES to InChI: Rino, CDK, and Ruby Java Bridge">
  <meta name="twitter:description" content="Integrating Ruby and Java is fast and easy with Ruby Java Bridge (RJB), which was discussed previously. In this article, I’ll show how RJB can be used to solve a practical chemical informatics problem - the conversion of SMILES strings into InChI identifiers.
Prerequisites This tutorial is aimed at Linux users, but you should be able to accomplish the same thing in Windows and Mac OS X, although these systems have not been tested. You’ll need to install a few software packages if you haven’t done so already: Ruby; Ruby Gems; RJB; CDK; and Rino. After installing RubyGems, RJB and Rino can both be installed from the command line (as root):">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">From SMILES to InChI: Rino, CDK, and Ruby Java Bridge</h1>
      
      <p class="tracked">
        By <strong>Richard L. Apodaca</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2006-08-26T00:00:00Z">August 26, 2006</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Integrating Ruby and Java is fast and easy with <!-- raw HTML omitted -->Ruby Java Bridge<!-- raw HTML omitted --> (RJB), which was <!-- raw HTML omitted -->discussed previously<!-- raw HTML omitted -->. In this article, I&rsquo;ll show how RJB can be used to solve a practical chemical informatics problem - the conversion of SMILES strings into <!-- raw HTML omitted -->InChI<!-- raw HTML omitted --> identifiers.</p>
<h1 id="prerequisites">Prerequisites</h1>
<p>This tutorial is aimed at Linux users, but you should be able to accomplish the same thing in Windows and Mac OS X, although these systems have not been tested. You&rsquo;ll need to install a few software packages if you haven&rsquo;t done so already: Ruby; Ruby Gems; RJB; CDK; and Rino. After <!-- raw HTML omitted -->installing RubyGems<!-- raw HTML omitted -->, RJB and Rino can both be installed from the command line (as root):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo gem install rjb
</span></span><span style="display:flex;"><span>sudo gem install rino
</span></span></code></pre></div><p>Next, create a working directory, <!-- raw HTML omitted -->smi2inchi<!-- raw HTML omitted -->. Into this directory, move a copy of the full <!-- raw HTML omitted -->CDK-2006714 jarfile<!-- raw HTML omitted -->. That&rsquo;s it for libraries, so let&rsquo;s move onto the translator itself.</p>
<h1 id="the-translator">The Translator</h1>
<p>The Translator class consists of a small piece of Ruby code gluing CDK&rsquo;s SmilesParser and MDLWriter with the Ruby InChI library <!-- raw HTML omitted -->Rino<!-- raw HTML omitted -->. Rino is a thin Ruby wrapper around the <!-- raw HTML omitted -->IUPAC InChI library<!-- raw HTML omitted -->, which is in turn written in C.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#39;CLASSPATH&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;./cdk-20060714.jar&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rubygems&#39;</span>
</span></span><span style="display:flex;"><span>require_gem <span style="color:#e6db74">&#39;rjb&#39;</span>
</span></span><span style="display:flex;"><span>require_gem <span style="color:#e6db74">&#39;rino&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rjb&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">StringWriter</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">Rjb</span><span style="color:#f92672">::</span>import <span style="color:#e6db74">&#39;java.io.StringWriter&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SmilesParser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">Rjb</span><span style="color:#f92672">::</span>import <span style="color:#e6db74">&#39;org.openscience.cdk.smiles.SmilesParser&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">MDLWriter</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">Rjb</span><span style="color:#f92672">::</span>import <span style="color:#e6db74">&#39;org.openscience.cdk.io.MDLWriter&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Converts a SMILES string into an InChI identifier using</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># the CDK Library (Java) and the Rino Library (Ruby/C).</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Translator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">initialize</span>
</span></span><span style="display:flex;"><span>    @smiles_parser <span style="color:#f92672">=</span> <span style="color:#66d9ef">SmilesParser</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>    @mdl_writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">MDLWriter</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>    @mol2inchi <span style="color:#f92672">=</span> <span style="color:#66d9ef">Rino</span><span style="color:#f92672">::</span><span style="color:#66d9ef">MolfileReader</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Returns an InChI identifier from the specified SMILES string.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Uses the CDK classes SmilesParser and MDLWriter to generate</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># a molfile from a SMILES string. Then this molfile is</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># parsed by Rino::MolfileReader.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">translate</span>(smiles)
</span></span><span style="display:flex;"><span>    mol <span style="color:#f92672">=</span> @smiles_parser<span style="color:#f92672">.</span>parseSmiles(smiles)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sw <span style="color:#f92672">=</span> <span style="color:#66d9ef">StringWriter</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @mdl_writer<span style="color:#f92672">.</span>setWriter(sw)
</span></span><span style="display:flex;"><span>    @mdl_writer<span style="color:#f92672">.</span>write(mol)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @mol2inchi<span style="color:#f92672">.</span>read(sw<span style="color:#f92672">.</span>toString)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Add the above code to a file called <!-- raw HTML omitted -->smi2inchi.rb<!-- raw HTML omitted -->. The first line points the CLASSPATH environment variable, which is needed by RJB, to the CDK library. Lines 3-6 include the RJB and Rino RubyGems. Lines 8-11 import the built-in Java class StringWriter and the CDK Java classes SmilesParser and MDLWriter using RJB&rsquo;s syntax. The core of the class consists of the <!-- raw HTML omitted -->translate<!-- raw HTML omitted --> method, which simply coordinates the pieces.</p>
<p>Using the Translator class consists of creating an instance, and invoking its <!-- raw HTML omitted -->translate<!-- raw HTML omitted --> method on a SMILES string:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;smi2inchi&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>translator <span style="color:#f92672">=</span> <span style="color:#66d9ef">Translator</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>inchi <span style="color:#f92672">=</span> translator<span style="color:#f92672">.</span>translate <span style="color:#e6db74">&#39;c1ccccc1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p inchi <span style="color:#75715e"># =&gt; &#34;InChI=1/C6H6/c1-2-4-6-5-3-1/h1-6H&#34;</span>
</span></span></code></pre></div><p>The above code fragment can be saved to a text file (e.g. <!-- raw HTML omitted -->test.rb<!-- raw HTML omitted -->) and invoked with the Ruby interpreter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ruby test.rb
</span></span></code></pre></div><p>Alternatively, it can be entered interactively with the Interactive Ruby Interpreter (irb):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>irb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt;
</span></span></code></pre></div><p>With just a few lines of Ruby, we&rsquo;ve solved a real problem. This example integrates software from three different programming languages: Ruby, C, and Java. Given the variety of chemical informatics software written in these languages, Ruby Java Bridge offers numerous integration possibilities.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://depth-first.com:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
