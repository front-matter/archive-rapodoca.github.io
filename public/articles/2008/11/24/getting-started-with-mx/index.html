<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Getting Started with MX | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Recently, MX was introduced as a lightweight and free cheminformatics toolkit written in Java. There&rsquo;s nothing like real code examples for getting up to speed with a new library. Creating those examples in an environment that makes experimentation easy is even better. This article introduces the basics of MX using the popular Java scripting environment JRuby.
Download and Installing JRuby
If you&rsquo;ve never worked with Ruby or JRuby before, you&rsquo;re in for a pleasant surprise; the installation is practically effortless. Here are the steps:">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2008/11/24/getting-started-with-mx/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2008/11/24/getting-started-with-mx/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="Getting Started with MX">
  <meta property="og:description" content="Recently, MX was introduced as a lightweight and free cheminformatics toolkit written in Java. There’s nothing like real code examples for getting up to speed with a new library. Creating those examples in an environment that makes experimentation easy is even better. This article introduces the basics of MX using the popular Java scripting environment JRuby.
Download and Installing JRuby If you’ve never worked with Ruby or JRuby before, you’re in for a pleasant surprise; the installation is practically effortless. Here are the steps:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2008-11-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2008-11-24T00:00:00+00:00">

  <meta itemprop="name" content="Getting Started with MX">
  <meta itemprop="description" content="Recently, MX was introduced as a lightweight and free cheminformatics toolkit written in Java. There’s nothing like real code examples for getting up to speed with a new library. Creating those examples in an environment that makes experimentation easy is even better. This article introduces the basics of MX using the popular Java scripting environment JRuby.
Download and Installing JRuby If you’ve never worked with Ruby or JRuby before, you’re in for a pleasant surprise; the installation is practically effortless. Here are the steps:">
  <meta itemprop="datePublished" content="2008-11-24T00:00:00+00:00">
  <meta itemprop="dateModified" content="2008-11-24T00:00:00+00:00">
  <meta itemprop="wordCount" content="537">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Getting Started with MX">
  <meta name="twitter:description" content="Recently, MX was introduced as a lightweight and free cheminformatics toolkit written in Java. There’s nothing like real code examples for getting up to speed with a new library. Creating those examples in an environment that makes experimentation easy is even better. This article introduces the basics of MX using the popular Java scripting environment JRuby.
Download and Installing JRuby If you’ve never worked with Ruby or JRuby before, you’re in for a pleasant surprise; the installation is practically effortless. Here are the steps:">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Articles
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Getting Started with MX</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2008-11-24T00:00:00Z">November 24, 2008</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Recently, MX was <a href="/articles/2008/11/21/introducing-mx-lightweight-and-free-cheminformatics-tools-for-java">introduced</a> as a lightweight and free cheminformatics toolkit written in Java. There&rsquo;s nothing like real code examples for getting up to speed with a new library. Creating those examples in an environment that makes experimentation easy is even better. This article introduces the basics of MX using the popular Java scripting environment <a href="http://jruby.codehaus.org/">JRuby</a>.</p>
<h1 id="download-and-installing-jruby">Download and Installing JRuby</h1>
<p>If you&rsquo;ve never worked with Ruby or JRuby before, you&rsquo;re in for a pleasant surprise; the installation is practically effortless. Here are the steps:</p>
<ol>
<li>Download the <a href="http://dist.codehaus.org/jruby/jruby-bin-1.1.5.tar.gz">JRuby binary tarball</a>.</li>
<li>Untar the JRuby package.</li>
<li>Set your path to point to the JRuby bin directory.</li>
</ol>
<p>On Unix-based systems, create and enter a working directory, then execute the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget http://dist.codehaus.org/jruby/jruby-bin-1.1.5.tar.gz
</span></span><span style="display:flex;"><span>tar xvf jruby-bin-1.1.5.tar.gz
</span></span><span style="display:flex;"><span>export PATH<span style="color:#f92672">=</span>$PATH:./jruby-1.1.5/bin/
</span></span></code></pre></div><p>You can test your JRuby installation with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jruby -v
</span></span><span style="display:flex;"><span>jruby 1.1.5 <span style="color:#f92672">(</span>ruby 1.8.6 patchlevel 114<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>2008-11-03 rev 7996<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>i386-java<span style="color:#f92672">]</span>
</span></span></code></pre></div><h1 id="download-the-mx-jarfile">Download the MX Jarfile</h1>
<p>Installing MX consists of just <a href="http://mx-java.googlecode.com/files/mx-0.103.0.jar">downloading the jarfile</a>. If you&rsquo;re on a Unix system and still in your working directory:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget http://mx-java.googlecode.com/files/mx-0.103.0.jar
</span></span></code></pre></div><h1 id="hello-benzene">Hello, Benzene</h1>
<p>Let&rsquo;s create a benzene molecule using MX:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jirb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;mx-0.103.0.jar&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; import com.metamolecular.mx.io.Molecules
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Java::ComMetamolecularMxIo::Molecules
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; benzene <span style="color:#f92672">=</span> Molecules.createBenzene
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;Java::ComMetamolecularMxModel::DefaultMolecule:0x9770a3 @java_object=com.metamolecular.mx.model.DefaultMolecule@1536eec&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:004:0&gt; benzene.countAtoms
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><p>Here, we&rsquo;ve used one of the precompiled molecules available through the static methods of the <code>Molecules</code> class.</p>
<p>We can also create a <code>Molecule</code> from a molfile in a single line of code using <code>MoleculeKit</code>. Let&rsquo;s grab the <a href="http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?cid=3386&amp;loc=ec_rcs">fluoxetine molfile</a> from PubChem and convert it into a molecule:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jirb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;mx-0.103.0.jar&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; import com.metamolecular.mx.model.MoleculeKit
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Java::ComMetamolecularMxModel::MoleculeKit
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; require <span style="color:#e6db74">&#39;open-uri&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:004:0&gt; molfile <span style="color:#f92672">=</span> open<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?cid=3386&amp;disopt=DisplaySDF&#39;</span><span style="color:#f92672">)</span>.read
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;3386\n  -OEChem-11240812312D\n\n 40 41 ...&#34;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:005:0&gt; fluoxetine <span style="color:#f92672">=</span> MoleculeKit.readMolfile molfile, true
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;Java::ComMetamolecularMxModel::DefaultMolecule:0x2b1682 @java_object=com.metamolecular.mx.model.DefaultMolecule@b655a&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:006:0&gt; fluoxetine.countAtoms
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">22</span>
</span></span></code></pre></div><p>Here, we&rsquo;ve used the ability of <code>MoleculeKit</code> to remove non-stereogenic explicit hydrogens (&lsquo;virtualizing&rsquo; them) by setting the second argument of <code>readMolfile</code> to <code>true</code>.</p>
<h1 id="substructure-search">Substructure Search</h1>
<p>Substructure searches are done through an instance of a class implementing the <code>Matcher</code> interface. Currenly, only one such class exists, <code>DefaultMatcher</code>, so we&rsquo;ll use it.</p>
<p>Let&rsquo;s verify that benzene is a substructure of toluene:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jirb
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:001:0&gt; require <span style="color:#e6db74">&#39;mx-0.103.0.jar&#39;</span>                     
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:002:0&gt; import com.metamolecular.mx.io.Molecules     
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Java::ComMetamolecularMxIo::Molecules
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:003:0&gt; import com.metamolecular.mx.map.DefaultMapper
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; Java::ComMetamolecularMxMap::DefaultMapper
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:004:0&gt; benzene <span style="color:#f92672">=</span> Molecules.createBenzene            
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;Java::ComMetamolecularMxModel::DefaultMolecule:0xee260b @java_object=com.metamolecular.mx.model.DefaultMolecule@1f68272&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:005:0&gt; toluene <span style="color:#f92672">=</span> Molecules.createToluene            
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;Java::ComMetamolecularMxModel::DefaultMolecule:0xffa6eb @java_object=com.metamolecular.mx.model.DefaultMolecule@1e8c585&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:006:0&gt; mapper <span style="color:#f92672">=</span> DefaultMapper.new benzene
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; <span style="color:#75715e">#&amp;lt;Java::ComMetamolecularMxMap::DefaultMapper:0xf0cb3c @java_object=com.metamolecular.mx.map.DefaultMapper@aefcbb&gt;</span>
</span></span><span style="display:flex;"><span>irb<span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>:007:0&gt; mapper.hasMap toluene
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt; true
</span></span></code></pre></div><p>It worked as expected.</p>
<p><code>Mapper</code> allows us to answer both simple questions like &lsquo;Is A a substructure of B?&rsquo;. It also allows us to answer more complex questions like &lsquo;Give me all the matching substructures of A in B&rsquo;.
For more information, see <a href="/articles/2008/11/17/substructure-search-from-scratch-in-java-part-1-the-atom-mapping-problem">this article</a> describing the design of the <code>Mapper</code> interface.</p>
<h1 id="get-involved">Get Involved</h1>
<p>Want to know more? Want to report a bug? Want to add your own must-have feature? Want the latest MX?</p>
<p>You can get involved with MX four ways:</p>
<ul>
<li>By <a href="http://code.google.com/p/mx-java/downloads/list">downloading the source</a></li>
<li>By joining the <a href="http://groups.google.com/group/mx-java">Google group</a></li>
<li>By <a href="http://code.google.com/p/mx-java/issues/list">reporting a bug or feature request</a></li>
<li>By <a href="http://github.com/rapodaca/mx/tree/master">developing your own fork</a></li>
</ul>
<h1 id="conclusions">Conclusions</h1>
<p>MX was designed to make simple things simple. In this article we&rsquo;ve seen how combining MX with JRuby leads to an environment in which the simple MX API can be explored quickly and easily. Future articles will discuss other ways to use the MX/JRuby combination.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
