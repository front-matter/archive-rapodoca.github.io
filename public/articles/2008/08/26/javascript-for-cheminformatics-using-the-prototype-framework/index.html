<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>JavaScript for Cheminformatics - Using the Prototype Framework | Depth-First</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="If you want to do the kind of cheminformatics that involves manipulating atoms, bonds, and molecules, object-oriented programming works well as a development paradigm. Although perhaps not readily apparent, JavaScript offers everything needed to create object-oriented models just as intricate at those written in languages like C&#43;&#43; and Java. This article discusses one approach that makes use of the Prototype Framework.
About Prototype
Prototype is a set of extensions to the JavaScript language that make developing in it less painful. Some of the extensions relate to DOM manipulation. Other have to do with the way Strings and Arrays behave. For the purposes of this article, we&rsquo;ll be using Prototype&rsquo;s syntax support for classes and inheritance.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/articles/2008/08/26/javascript-for-cheminformatics-using-the-prototype-framework/">
    

    <meta property="og:url" content="http://localhost:1313/articles/2008/08/26/javascript-for-cheminformatics-using-the-prototype-framework/">
  <meta property="og:site_name" content="Depth-First">
  <meta property="og:title" content="JavaScript for Cheminformatics - Using the Prototype Framework">
  <meta property="og:description" content="If you want to do the kind of cheminformatics that involves manipulating atoms, bonds, and molecules, object-oriented programming works well as a development paradigm. Although perhaps not readily apparent, JavaScript offers everything needed to create object-oriented models just as intricate at those written in languages like C&#43;&#43; and Java. This article discusses one approach that makes use of the Prototype Framework.
About Prototype Prototype is a set of extensions to the JavaScript language that make developing in it less painful. Some of the extensions relate to DOM manipulation. Other have to do with the way Strings and Arrays behave. For the purposes of this article, we’ll be using Prototype’s syntax support for classes and inheritance.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2008-08-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2008-08-26T00:00:00+00:00">

  <meta itemprop="name" content="JavaScript for Cheminformatics - Using the Prototype Framework">
  <meta itemprop="description" content="If you want to do the kind of cheminformatics that involves manipulating atoms, bonds, and molecules, object-oriented programming works well as a development paradigm. Although perhaps not readily apparent, JavaScript offers everything needed to create object-oriented models just as intricate at those written in languages like C&#43;&#43; and Java. This article discusses one approach that makes use of the Prototype Framework.
About Prototype Prototype is a set of extensions to the JavaScript language that make developing in it less painful. Some of the extensions relate to DOM manipulation. Other have to do with the way Strings and Arrays behave. For the purposes of this article, we’ll be using Prototype’s syntax support for classes and inheritance.">
  <meta itemprop="datePublished" content="2008-08-26T00:00:00+00:00">
  <meta itemprop="dateModified" content="2008-08-26T00:00:00+00:00">
  <meta itemprop="wordCount" content="415">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="JavaScript for Cheminformatics - Using the Prototype Framework">
  <meta name="twitter:description" content="If you want to do the kind of cheminformatics that involves manipulating atoms, bonds, and molecules, object-oriented programming works well as a development paradigm. Although perhaps not readily apparent, JavaScript offers everything needed to create object-oriented models just as intricate at those written in languages like C&#43;&#43; and Java. This article discusses one approach that makes use of the Prototype Framework.
About Prototype Prototype is a set of extensions to the JavaScript language that make developing in it less painful. Some of the extensions relate to DOM manipulation. Other have to do with the way Strings and Arrays behave. For the purposes of this article, we’ll be using Prototype’s syntax support for classes and inheritance.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Depth-First
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">JavaScript for Cheminformatics - Using the Prototype Framework</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2008-08-26T00:00:00Z">August 26, 2008</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>If you want to do the kind of cheminformatics that involves manipulating atoms, bonds, and molecules, object-oriented programming works well as a development paradigm. Although perhaps not readily apparent, JavaScript <a href="http://depth-first.com/articles/2008/07/15/javascript-for-cheminformatics">offers everything</a> needed to create object-oriented models just as intricate at those written in languages like C++ and Java. This article discusses one approach that makes use of the <a href="http://www.prototypejs.org/">Prototype Framework</a>.</p>
<h1 id="about-prototype">About Prototype</h1>
<p>Prototype is a set of extensions to the JavaScript language that make developing in it less painful. Some of the extensions relate to DOM manipulation. Other have to do with the way Strings and Arrays behave. For the purposes of this article, we&rsquo;ll be using Prototype&rsquo;s syntax support for classes and inheritance.</p>
<h1 id="atoms-bonds-and-molecules">Atoms, Bonds, and Molecules</h1>
<p>To start, we&rsquo;ll need classes that define the basic behavior of atoms, bonds, and molecules. Although we may ultimately need to consider issues such as <a href="http://depth-first.com/articles/2006/12/19/ferrocene-and-beyond-a-solution-to-the-molecular-representation-problem">multicentered bonding</a>, for now, we&rsquo;ll stick to a simplified view of chemistry that has bonds connecting two and only two atoms.</p>
<h1 id="creating-the-classes">Creating the Classes</h1>
<p>We could use JavaScript&rsquo;s built-in method for creating objects from class-like structures, but Prototype&rsquo;s approach is cleaner.</p>
<p>In the following library, we define a Molecule as a collection of Atoms and Bonds with useful relationships:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Molecule</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Class</span>.<span style="color:#a6e22e">create</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">initialize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">atoms</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">bonds</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">addAtom</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">label</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">atom</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Atom</span>(<span style="color:#a6e22e">label</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">atoms</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">atom</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">atom</span>;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">connect</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">sourceAtom</span>, <span style="color:#a6e22e">targetAtom</span>, <span style="color:#a6e22e">bondType</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bond</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Bond</span>(<span style="color:#a6e22e">sourceAtom</span>, <span style="color:#a6e22e">targetAtom</span>, <span style="color:#a6e22e">bondType</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sourceAtom</span>.<span style="color:#a6e22e">neighbors</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">targetAtom</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sourceAtom</span>.<span style="color:#a6e22e">bonds</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">bond</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">targetAtom</span>.<span style="color:#a6e22e">neighbors</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">sourceAtom</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">targetAtom</span>.<span style="color:#a6e22e">bonds</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">bond</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">bonds</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">bond</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bond</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Atom</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Class</span>.<span style="color:#a6e22e">create</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">initialize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">label</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">label</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">label</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">neighbors</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">bonds</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Bond</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">Class</span>.<span style="color:#a6e22e">create</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">initialize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">target</span>, <span style="color:#a6e22e">type</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">source</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">source</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">target</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">target</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">type</span>;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">getMate</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">atom</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">atom</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">source</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">target</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">atom</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">target</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">source</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">contains</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">atom</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (<span style="color:#a6e22e">atom</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">source</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">atom</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">target</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h1 id="testing-the-library">Testing the Library</h1>
<p>We can test the library interactively by saving it in a file called <!-- raw HTML omitted -->chem.js<!-- raw HTML omitted --> and creating some simple HTML:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prototype.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;chem.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">body</span>&gt;&lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">pre</span>&gt;
</span></span></code></pre></div><p>We can then use the <!-- raw HTML omitted -->Firebug console<!-- raw HTML omitted --> to test the library interactively:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;&gt;&gt; m <span style="color:#f92672">=</span> new Molecule<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span>Object atoms<span style="color:#f92672">=[</span>0<span style="color:#f92672">]</span> bonds<span style="color:#f92672">=[</span>0<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; c <span style="color:#f92672">=</span> m.addAtom<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;C&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>Object label<span style="color:#f92672">=</span>C neighbors<span style="color:#f92672">=[</span>0<span style="color:#f92672">]</span> bonds<span style="color:#f92672">=[</span>0<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt;n <span style="color:#f92672">=</span> m.addAtom<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;N&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>Object label<span style="color:#f92672">=</span>N neighbors<span style="color:#f92672">=[</span>0<span style="color:#f92672">]</span> bonds<span style="color:#f92672">=[</span>0<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; m.connect<span style="color:#f92672">(</span>c, n, 3<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>&gt;&gt;&gt; c.neighbors.size<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h1 id="conclusions">Conclusions</h1>
<p>Although the cheminformatics library discussed here is far from being useful, it&rsquo;s not difficult to see how to extend it. Prototype offers a several possibilities for doing so.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Depth-First 2024 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
